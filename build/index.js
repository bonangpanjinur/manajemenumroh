(()=>{"use strict";var e={338:(e,a,t)=>{var l=t(795);a.H=l.createRoot,l.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},a={};const t=window.React;var l=function t(l){var r=a[l];if(void 0!==r)return r.exports;var n=a[l]={exports:{}};return e[l](n,n.exports,t),n.exports}(338);let r={data:""},n=e=>{if("object"==typeof window){let a=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return a.nonce=window.__nonce__,a.parentNode||(e||document.head).appendChild(a),a.firstChild}return e||r},s=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c=/\/\*[^]*?\*\/|  +/g,i=/\n+/g,m=(e,a)=>{let t="",l="",r="";for(let n in e){let s=e[n];"@"==n[0]?"i"==n[1]?t=n+" "+s+";":l+="f"==n[1]?m(s,n):n+"{"+m(s,"k"==n[1]?"":a)+"}":"object"==typeof s?l+=m(s,a?a.replace(/([^,])+/g,e=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,a=>/&/.test(a)?a.replace(/&/g,e):e?e+" "+a:a)):n):null!=s&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=m.p?m.p(n,s):n+":"+s+";")}return t+(a&&r?a+"{"+r+"}":r)+l},o={},d=e=>{if("object"==typeof e){let a="";for(let t in e)a+=t+d(e[t]);return a}return e},u=(e,a,t,l,r)=>{let n=d(e),u=o[n]||(o[n]=(e=>{let a=0,t=11;for(;a<e.length;)t=101*t+e.charCodeAt(a++)>>>0;return"go"+t})(n));if(!o[u]){let a=n!==e?e:(e=>{let a,t,l=[{}];for(;a=s.exec(e.replace(c,""));)a[4]?l.shift():a[3]?(t=a[3].replace(i," ").trim(),l.unshift(l[0][t]=l[0][t]||{})):l[0][a[1]]=a[2].replace(i," ").trim();return l[0]})(e);o[u]=m(r?{["@keyframes "+u]:a}:a,t?"":"."+u)}let p=t&&o.g?o.g:null;return t&&(o.g=o[u]),((e,a,t,l)=>{l?a.data=a.data.replace(l,e):-1===a.data.indexOf(e)&&(a.data=t?e+a.data:a.data+e)})(o[u],a,l,p),u};function p(e){let a=this||{},t=e.call?e(a.p):e;return u(t.unshift?t.raw?((e,a,t)=>e.reduce((e,l,r)=>{let n=a[r];if(n&&n.call){let e=n(t),a=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=a?"."+a:e&&"object"==typeof e?e.props?"":m(e,""):!1===e?"":e}return e+l+(null==n?"":n)},""))(t,[].slice.call(arguments,1),a.p):t.reduce((e,t)=>Object.assign(e,t&&t.call?t(a.p):t),{}):t,n(a.target),a.g,a.o,a.k)}p.bind({g:1});let g,b,h,E=p.bind({k:1});function y(e,a){let t=this||{};return function(){let l=arguments;function r(n,s){let c=Object.assign({},n),i=c.className||r.className;t.p=Object.assign({theme:b&&b()},c),t.o=/ *go\d+/.test(i),c.className=p.apply(t,l)+(i?" "+i:""),a&&(c.ref=s);let m=e;return e[0]&&(m=c.as||e,delete c.as),h&&m[0]&&h(c),g(m,c)}return a?a(r):r}}var v=(e,a)=>(e=>"function"==typeof e)(e)?e(a):e,f=(()=>{let e=0;return()=>(++e).toString()})(),x=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let a=matchMedia("(prefers-reduced-motion: reduce)");e=!a||a.matches}return e}})(),N="default",k=(e,a)=>{let{toastLimit:t}=e.settings;switch(a.type){case 0:return{...e,toasts:[a.toast,...e.toasts].slice(0,t)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case 2:let{toast:l}=a;return k(e,{type:e.toasts.find(e=>e.id===l.id)?1:0,toast:l});case 3:let{toastId:r}=a;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===a.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)};case 5:return{...e,pausedAt:a.time};case 6:let n=a.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+n}))}}},_=[],w={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},C={},S=(e,a=N)=>{C[a]=k(C[a]||w,e),_.forEach(([e,t])=>{e===a&&t(C[a])})},M=e=>Object.keys(C).forEach(a=>S(e,a)),D=(e=N)=>a=>{S(a,e)},P={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},j=e=>(a,t)=>{let l=((e,a="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:a,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...t,id:(null==t?void 0:t.id)||f()}))(a,e,t);return D(l.toasterId||(e=>Object.keys(C).find(a=>C[a].toasts.some(a=>a.id===e)))(l.id))({type:2,toast:l}),l.id},A=(e,a)=>j("blank")(e,a);A.error=j("error"),A.success=j("success"),A.loading=j("loading"),A.custom=j("custom"),A.dismiss=(e,a)=>{let t={type:3,toastId:e};a?D(a)(t):M(t)},A.dismissAll=e=>A.dismiss(void 0,e),A.remove=(e,a)=>{let t={type:4,toastId:e};a?D(a)(t):M(t)},A.removeAll=e=>A.remove(void 0,e),A.promise=(e,a,t)=>{let l=A.loading(a.loading,{...t,...null==t?void 0:t.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let r=a.success?v(a.success,e):void 0;return r?A.success(r,{id:l,...t,...null==t?void 0:t.success}):A.dismiss(l),e}).catch(e=>{let r=a.error?v(a.error,e):void 0;r?A.error(r,{id:l,...t,...null==t?void 0:t.error}):A.dismiss(l)}),e};var z=E`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,T=E`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,I=E`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,q=y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${T} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${I} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,B=E`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,K=y("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${B} 1s linear infinite;
`,L=E`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,H=E`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,R=y("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${L} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${H} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$=y("div")`
  position: absolute;
`,O=y("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,U=E`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,J=y("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${U} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,F=({toast:e})=>{let{icon:a,type:l,iconTheme:r}=e;return void 0!==a?"string"==typeof a?t.createElement(J,null,a):a:"blank"===l?null:t.createElement(O,null,t.createElement(K,{...r}),"loading"!==l&&t.createElement($,null,"error"===l?t.createElement(q,{...r}):t.createElement(R,{...r})))},G=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,W=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,V=y("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,X=y("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Z=t.memo(({toast:e,position:a,style:l,children:r})=>{let n=e.height?((e,a)=>{let t=e.includes("top")?1:-1,[l,r]=x()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[G(t),W(t)];return{animation:a?`${E(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${E(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||a||"top-center",e.visible):{opacity:0},s=t.createElement(F,{toast:e}),c=t.createElement(X,{...e.ariaProps},v(e.message,e));return t.createElement(V,{className:e.className,style:{...n,...l,...e.style}},"function"==typeof r?r({icon:s,message:c}):t.createElement(t.Fragment,null,s,c))});!function(e){m.p=void 0,g=e,b=void 0,h=void 0}(t.createElement);var Q=({id:e,className:a,style:l,onHeightUpdate:r,children:n})=>{let s=t.useCallback(a=>{if(a){let t=()=>{let t=a.getBoundingClientRect().height;r(e,t)};t(),new MutationObserver(t).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return t.createElement("div",{ref:s,className:a,style:l},n)},Y=p`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ee=({reverseOrder:e,position:a="top-center",toastOptions:l,gutter:r,children:n,toasterId:s,containerStyle:c,containerClassName:i})=>{let{toasts:m,handlers:o}=((e,a="default")=>{let{toasts:l,pausedAt:r}=((e={},a=N)=>{let[l,r]=(0,t.useState)(C[a]||w),n=(0,t.useRef)(C[a]);(0,t.useEffect)(()=>(n.current!==C[a]&&r(C[a]),_.push([a,r]),()=>{let e=_.findIndex(([e])=>e===a);e>-1&&_.splice(e,1)}),[a]);let s=l.toasts.map(a=>{var t,l,r;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||(null==(t=e[a.type])?void 0:t.removeDelay)||(null==e?void 0:e.removeDelay),duration:a.duration||(null==(l=e[a.type])?void 0:l.duration)||(null==e?void 0:e.duration)||P[a.type],style:{...e.style,...null==(r=e[a.type])?void 0:r.style,...a.style}}});return{...l,toasts:s}})(e,a),n=(0,t.useRef)(new Map).current,s=(0,t.useCallback)((e,a=1e3)=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:4,toastId:e})},a);n.set(e,t)},[]);(0,t.useEffect)(()=>{if(r)return;let e=Date.now(),t=l.map(t=>{if(t.duration===1/0)return;let l=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(l<0))return setTimeout(()=>A.dismiss(t.id,a),l);t.visible&&A.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[l,r,a]);let c=(0,t.useCallback)(D(a),[a]),i=(0,t.useCallback)(()=>{c({type:5,time:Date.now()})},[c]),m=(0,t.useCallback)((e,a)=>{c({type:1,toast:{id:e,height:a}})},[c]),o=(0,t.useCallback)(()=>{r&&c({type:6,time:Date.now()})},[r,c]),d=(0,t.useCallback)((e,a)=>{let{reverseOrder:t=!1,gutter:r=8,defaultPosition:n}=a||{},s=l.filter(a=>(a.position||n)===(e.position||n)&&a.height),c=s.findIndex(a=>a.id===e.id),i=s.filter((e,a)=>a<c&&e.visible).length;return s.filter(e=>e.visible).slice(...t?[i+1]:[0,i]).reduce((e,a)=>e+(a.height||0)+r,0)},[l]);return(0,t.useEffect)(()=>{l.forEach(e=>{if(e.dismissed)s(e.id,e.removeDelay);else{let a=n.get(e.id);a&&(clearTimeout(a),n.delete(e.id))}})},[l,s]),{toasts:l,handlers:{updateHeight:m,startPause:i,endPause:o,calculateOffset:d}}})(l,s);return t.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...c},className:i,onMouseEnter:o.startPause,onMouseLeave:o.endPause},m.map(l=>{let s=l.position||a,c=((e,a)=>{let t=e.includes("top"),l=t?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:x()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${a*(t?1:-1)}px)`,...l,...r}})(s,o.calculateOffset(l,{reverseOrder:e,gutter:r,defaultPosition:a}));return t.createElement(Q,{id:l.id,key:l.id,onHeightUpdate:o.updateHeight,className:l.visible?Y:"",style:c},"custom"===l.type?v(l.message,l):n?n(l):t.createElement(Z,{toast:l,position:s}))}))},ae=A;const te=window.umhData||{root:"",nonce:"",user:null},le=async(e,a={})=>{const{root:t,nonce:l}=te,r=`${t}umh/v1/${(e.startsWith("/")?e.substring(1):e).replace("umh/v1/","")}`,n={"X-WP-Nonce":l,...a.headers};a.body instanceof FormData||(n["Content-Type"]="application/json");const s={...a,headers:n};try{const e=await fetch(r,s),a=await e.json();if(!e.ok)throw new Error(a.message||a.code||"Terjadi kesalahan pada server.");return a}catch(a){throw console.error(`API Error [${e}]:`,a),a}},re=(e,a={})=>{const t=new URLSearchParams(a.params).toString();return le(t?`${e}?${t}`:e,{method:"GET"})},ne=(e,a)=>le(e,{method:"POST",body:a instanceof FormData?a:JSON.stringify(a)}),se=e=>le(e,{method:"DELETE"}),ce=async(e,a,t=null)=>{const l=new FormData;return l.append("file",e),a&&l.append("upload_type",a),t&&l.append("jamaah_id",t),le("uploads",{method:"POST",body:l})},ie=(0,t.createContext)(),me=()=>(0,t.useContext)(ie),oe=({children:e})=>{const[a,l]=(0,t.useState)(null),[r,n]=(0,t.useState)(null),[s,c]=(0,t.useState)(!0),[i,m]=(0,t.useState)(null),[o,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{c(!0),m(null);try{window.umhData&&window.umhData.user&&l(window.umhData.user);const[e,a]=await Promise.all([re("umh/v1/stats/totals").catch(e=>({data:{}})),re("umh/v1/departures",{params:{per_page:5,status:"scheduled",orderby:"departure_date",order:"asc"}}).catch(e=>({data:{items:[]}}))]),t=e.data||{},r=a.data,s=Array.isArray(r)?r:r&&Array.isArray(r.items)?r.items:[];n({total_jamaah:t.total_jamaah||0,active_packages:t.total_packages||0,total_revenue:t.total_revenue||0,upcoming_departures:s.map(e=>({name:e.package_name,date:e.departure_date,booked:e.slots_filled||e.total_seats-e.available_seats||0,quota:e.total_seats||0}))})}catch(e){console.error("Gagal inisialisasi aplikasi:",e),m("Gagal memuat data utama. Periksa koneksi internet Anda.")}finally{c(!1)}})()},[]);const u={user:a,stats:r,loading:s,error:i,globalError:o,clearGlobalError:()=>d(null)};return(0,t.createElement)(ie.Provider,{value:u},e)};var de={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ue=(e,a)=>{const l=(0,t.forwardRef)(({color:l="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:c="",children:i,...m},o)=>{return(0,t.createElement)("svg",{ref:o,...de,width:r,height:r,stroke:l,strokeWidth:s?24*Number(n)/Number(r):n,className:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,c].join(" "),...m},[...a.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(i)?i:[i]]);var d});return l.displayName=`${e}`,l},pe=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ge=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),be=()=>{const{globalError:e,clearGlobalError:a}=me();return e?(0,t.createElement)("div",{className:"fixed top-20 right-6 bg-red-100 border-l-4 border-red-500 text-red-800 p-4 rounded-md shadow-lg z-50 max-w-md",role:"alert"},(0,t.createElement)("div",{className:"flex"},(0,t.createElement)("div",{className:"flex-shrink-0"},(0,t.createElement)(pe,{size:20,className:"text-red-600"})),(0,t.createElement)("div",{className:"ml-3"},(0,t.createElement)("p",{className:"text-sm font-medium"},e)),(0,t.createElement)("div",{className:"ml-auto pl-3"},(0,t.createElement)("div",{className:"-mx-1.5 -my-1.5"},(0,t.createElement)("button",{type:"button",onClick:a,className:"inline-flex bg-red-100 rounded-md p-1.5 text-red-500 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-100 focus:ring-red-600"},(0,t.createElement)("span",{className:"sr-only"},"Tutup"),(0,t.createElement)(ge,{size:20})))))):null},he=({children:e,title:a})=>((0,t.useEffect)(()=>{a&&(document.title=`${a} - Umroh Manager`)},[a]),(0,t.createElement)("div",{className:"max-w-7xl mx-auto"},(0,t.createElement)(be,null),(0,t.createElement)("div",{className:"animate-fade-in"},e))),Ee=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ye=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ve=ue("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),fe=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),xe=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ne=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ke=(e,a="IDR")=>null==e?"-":"USD"===a?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e):new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),_e=e=>e?new Date(e).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-",we=()=>{const[e,a]=(0,t.useState)({total_jamaah:0,total_revenue:0,active_agents:0,upcoming_departures:[]}),[l,r]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{const e=await re("umh/v1/stats/dashboard");a(e)}catch(e){a({total_jamaah:1450,total_revenue:285e8,active_agents:42,upcoming_departures:[{id:1,package_name:"Umrah Awal Ramadhan",date:"2024-03-10",quota:45,filled:40},{id:2,package_name:"Umrah Syawal Plus Turki",date:"2024-04-15",quota:30,filled:12},{id:3,package_name:"Haji Furoda 2024",date:"2024-06-10",quota:10,filled:8}]})}finally{r(!1)}})()},[]);const n=({title:e,value:a,icon:l,color:r,subtext:n})=>(0,t.createElement)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-start justify-between hover:shadow-md transition-shadow"},(0,t.createElement)("div",null,(0,t.createElement)("p",{className:"text-gray-500 text-sm font-medium mb-1"},e),(0,t.createElement)("h3",{className:"text-2xl font-bold text-gray-800"},a),n&&(0,t.createElement)("p",{className:"text-xs mt-2 "+(n.includes("+")?"text-green-600":"text-gray-400")},n)),(0,t.createElement)("div",{className:`p-3 rounded-lg ${r} text-white`},(0,t.createElement)(l,{size:24})));return(0,t.createElement)(he,{title:"Executive Dashboard"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},(0,t.createElement)(n,{title:"Total Jemaah Musim Ini",value:l?"...":e.total_jamaah,icon:Ee,color:"bg-blue-600",subtext:"+12% dari bulan lalu"}),(0,t.createElement)(n,{title:"Omzet Transaksi",value:l?"...":ke(e.total_revenue),icon:ye,color:"bg-green-600",subtext:"Update Hari Ini"}),(0,t.createElement)(n,{title:"Agen Aktif",value:l?"...":e.active_agents,icon:ve,color:"bg-purple-600",subtext:"Target: 100 Agen"}),(0,t.createElement)(n,{title:"Seat Terisi (Rata-rata)",value:"85%",icon:fe,color:"bg-orange-500",subtext:"Okupansi Pesawat"})),(0,t.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},(0,t.createElement)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},(0,t.createElement)("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center"},(0,t.createElement)("h3",{className:"font-bold text-gray-800 flex items-center gap-2"},(0,t.createElement)(xe,{size:18})," Keberangkatan Terdekat"),(0,t.createElement)("button",{className:"text-sm text-blue-600 hover:underline"},"Lihat Semua")),(0,t.createElement)("div",{className:"overflow-x-auto"},(0,t.createElement)("table",{className:"w-full text-left text-sm"},(0,t.createElement)("thead",{className:"bg-gray-50 text-gray-600"},(0,t.createElement)("tr",null,(0,t.createElement)("th",{className:"p-4"},"Paket Program"),(0,t.createElement)("th",{className:"p-4"},"Tanggal"),(0,t.createElement)("th",{className:"p-4 text-center"},"Kuota"),(0,t.createElement)("th",{className:"p-4 text-center"},"Status"))),(0,t.createElement)("tbody",{className:"divide-y divide-gray-100"},e.upcoming_departures.map((e,a)=>(0,t.createElement)("tr",{key:a,className:"hover:bg-gray-50"},(0,t.createElement)("td",{className:"p-4 font-medium"},e.package_name),(0,t.createElement)("td",{className:"p-4 text-gray-500"},_e(e.date)),(0,t.createElement)("td",{className:"p-4 text-center"},(0,t.createElement)("div",{className:"flex flex-col items-center"},(0,t.createElement)("span",{className:"text-xs font-bold"},e.filled," / ",e.quota),(0,t.createElement)("div",{className:"w-24 h-1.5 bg-gray-200 rounded-full mt-1 overflow-hidden"},(0,t.createElement)("div",{className:"h-full bg-blue-500 rounded-full",style:{width:e.filled/e.quota*100+"%"}})))),(0,t.createElement)("td",{className:"p-4 text-center"},e.filled/e.quota>.9?(0,t.createElement)("span",{className:"badge bg-red-100 text-red-700"},"Hampir Penuh"):(0,t.createElement)("span",{className:"badge bg-green-100 text-green-700"},"Open")))))))),(0,t.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5"},(0,t.createElement)("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2"},(0,t.createElement)(Ne,{size:18})," Perhatian Diperlukan"),(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("div",{className:"p-3 bg-yellow-50 border border-yellow-100 rounded-lg text-sm text-yellow-800"},(0,t.createElement)("strong",null,"5 Paspor Expired")," dalam 6 bulan ke depan untuk keberangkatan April."),(0,t.createElement)("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg text-sm text-red-800"},(0,t.createElement)("strong",null,"3 Jemaah Belum Lunas"),' H-14 keberangkatan grup "Umrah Awal Ramadhan".'),(0,t.createElement)("div",{className:"p-3 bg-blue-50 border border-blue-100 rounded-lg text-sm text-blue-800"},(0,t.createElement)("strong",null,"Stok Koper Menipis")," (Sisa 12 pcs). Segera lakukan restock logistik.")))))},Ce=ue("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Se=ue("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Me=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),De=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Pe=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),je=({size:e=24,text:a})=>(0,t.createElement)("div",{className:"flex justify-center items-center py-4"},(0,t.createElement)(Pe,{className:"animate-spin text-blue-600",size:e}),a&&(0,t.createElement)("span",{className:"ml-2 text-gray-600"},a)),Ae=({columns:e,data:a=[],loading:l,sortBy:r,onSort:n,onEdit:s,onDelete:c,renderRowActions:i,userCapabilities:m=[],editCapability:o,deleteCapability:d})=>{const u=Array.isArray(a)?a:[],p=e=>!e||!!m&&(!!("super_admin"===m||Array.isArray(m)&&m.includes("manage_options"))||Array.isArray(m)&&m.includes(e)),g=p(o),b=p(d);return l&&0===u.length?(0,t.createElement)("div",{className:"flex justify-center items-center p-12 bg-white rounded-lg shadow"},(0,t.createElement)(je,{text:"Sedang memuat data..."})):0===u.length?(0,t.createElement)("div",{className:"text-center p-12 bg-white rounded-lg shadow border border-gray-100"},(0,t.createElement)("p",{className:"text-gray-500"},"Tidak ada data ditemukan.")):(0,t.createElement)("div",{className:"overflow-x-auto bg-white rounded-lg shadow border border-gray-200"},(0,t.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,t.createElement)("thead",{className:"bg-gray-50"},(0,t.createElement)("tr",null,e.map(e=>(0,t.createElement)("th",{key:e.accessor||e.header,scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>e.sortable&&n&&n(e.accessor)},(0,t.createElement)("div",{className:"flex items-center gap-1"},e.Header||e.header,e.sortable&&r&&(0,t.createElement)("span",{className:"inline-block"},r.field===e.accessor?"asc"===r.order?(0,t.createElement)(Ce,{size:14}):(0,t.createElement)(Se,{size:14}):(0,t.createElement)(Ce,{size:14,className:"text-gray-300"}))))),(s||c||i)&&(0,t.createElement)("th",{scope:"col",className:"relative px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,t.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},l&&(0,t.createElement)("tr",null,(0,t.createElement)("td",{colSpan:e.length+1,className:"p-2 bg-blue-50"},(0,t.createElement)("div",{className:"flex justify-center items-center text-blue-600 text-xs"},(0,t.createElement)(je,{size:16,text:"Memperbarui data..."})))),u.map((a,l)=>(0,t.createElement)("tr",{key:a.id||l,className:"hover:bg-gray-50 transition-colors"},e.map(e=>(0,t.createElement)("td",{key:e.accessor||l,className:`px-6 py-4 whitespace-nowrap text-sm text-gray-700 ${e.className||""}`},e.render?e.render(a,l):void 0!==a[e.accessor]&&null!==a[e.accessor]?a[e.accessor]:"-")),(s||c||i)&&(0,t.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-3"},i&&i(a),s&&g&&(0,t.createElement)("button",{onClick:()=>s(a),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit"},(0,t.createElement)(Me,{size:18})),c&&b&&(0,t.createElement)("button",{onClick:()=>c(a),className:"text-red-600 hover:text-red-900 transition-colors",title:"Hapus"},(0,t.createElement)(De,{size:18}))))))))},ze=({isOpen:e,onClose:a,title:l,children:r,size:n="max-w-2xl",footer:s})=>((0,t.useEffect)(()=>{const e=e=>{27===e.keyCode&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a]),e?(0,t.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start pt-10",onClick:e=>{e.target===e.currentTarget&&a()}},(0,t.createElement)("div",{className:`bg-white rounded-lg shadow-xl w-full ${n} m-4 flex flex-col max-h-[90vh]`},(0,t.createElement)("div",{className:"flex justify-between items-center p-4 border-b"},(0,t.createElement)("h3",{className:"text-xl font-semibold text-gray-800"},l),(0,t.createElement)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors"},(0,t.createElement)(ge,{size:20}))),(0,t.createElement)("div",{className:"p-6 overflow-y-auto"},r),s&&(0,t.createElement)("div",{className:"flex justify-end items-center p-4 border-t space-x-2 bg-gray-50 rounded-b-lg"},s))):null),Te=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ie=({onSearch:e,placeholder:a="Cari..."})=>{const[l,r]=(0,t.useState)("");return(0,t.createElement)("form",{onSubmit:a=>{a.preventDefault(),e(l)},className:"relative w-full max-w-xs"},(0,t.createElement)("input",{type:"text",value:l,onChange:a=>{r(a.target.value),""===a.target.value&&e("")},placeholder:a,className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,t.createElement)("button",{type:"submit",className:"absolute inset-y-0 right-0 flex items-center justify-center px-3 text-gray-400 hover:text-blue-600"},(0,t.createElement)(Te,{size:18})))},qe=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Be=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ke=({pagination:e,onPageChange:a})=>{const{current_page:l,total_pages:r,total_items:n}=e;if(r<=1)return(0,t.createElement)("div",{className:"text-sm text-gray-600 mt-4"},"Total ",n," items");const s=[];let c=Math.max(1,l-Math.floor(2.5)),i=Math.min(r,c+5-1);i-c+1<5&&(c=Math.max(1,i-5+1));for(let e=c;e<=i;e++)s.push(e);return(0,t.createElement)("div",{className:"flex justify-between items-center mt-4"},(0,t.createElement)("span",{className:"text-sm text-gray-600"},"Menampilkan halaman ",l," dari ",r," (Total ",n," item)"),(0,t.createElement)("div",{className:"flex items-center space-x-1"},l>1&&(0,t.createElement)("button",{onClick:()=>a(1),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},"Awal"),(0,t.createElement)("button",{onClick:()=>a(l-1),disabled:1===l,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},(0,t.createElement)(qe,{size:16})),c>1&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("button",{onClick:()=>a(1),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100"},"1"),(0,t.createElement)("span",{className:"px-3 py-1 text-sm"},"...")),s.map(e=>(0,t.createElement)("button",{key:e,onClick:()=>a(e),className:"px-3 py-1 rounded-md text-sm font-medium "+(e===l?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100")},e)),i<r&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("span",{className:"px-3 py-1 text-sm"},"..."),(0,t.createElement)("button",{onClick:()=>a(r),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100"},r)),(0,t.createElement)("button",{onClick:()=>a(l+1),disabled:l===r,className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},(0,t.createElement)(Be,{size:16})),l<r&&(0,t.createElement)("button",{onClick:()=>a(r),className:"px-3 py-1 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 disabled:opacity-50"},"Akhir")))},Le=(e,a={})=>{const[l,r]=(0,t.useState)([]),[n,s]=(0,t.useState)({current_page:1,total_pages:1,total_items:0}),[c,i]=(0,t.useState)(!1),[m,o]=(0,t.useState)(null),d=(0,t.useCallback)(async(t={})=>{i(!0),o(null);try{const l={...a,...t},n=await re(e,{params:l});console.log(`[useCRUD] Fetch ${e}:`,n),n&&Array.isArray(n)?r(n):n&&n.items&&Array.isArray(n.items)?(r(n.items),s({current_page:parseInt(n.current_page||1),total_pages:parseInt(n.total_pages||1),total_items:parseInt(n.total_items||0)})):n&&n.data&&Array.isArray(n.data)?r(n.data):(console.warn("[useCRUD] Format data tidak dikenali, set ke array kosong."),r([]))}catch(e){const a=e.response?.data?.message||e.message||"Gagal memuat data";o(a),console.error("Fetch Error:",e)}finally{i(!1)}},[e,JSON.stringify(a)]);return{data:l,pagination:n,loading:c,error:m,fetchData:d,createItem:async a=>{i(!0);const t=ae.loading("Menyimpan data...");try{return await ne(e,a),ae.success("Data berhasil disimpan!",{id:t}),await d(),!0}catch(e){const a=e.message||"Gagal menyimpan data";return ae.error(a,{id:t}),!1}finally{i(!1)}},updateItem:async(a,t)=>{i(!0);const l=ae.loading("Memperbarui data...");try{return await ne(`${e}/${a}`,t),ae.success("Data berhasil diperbarui!",{id:l}),await d(),!0}catch(e){const a=e.message||"Gagal memperbarui data";return ae.error(a,{id:l}),!1}finally{i(!1)}},deleteItem:async a=>{if(!window.confirm("Apakah Anda yakin ingin menghapus data ini?"))return!1;i(!0);const t=ae.loading("Menghapus data...");try{return await se(`${e}/${a}`),ae.success("Data dihapus",{id:t}),r(e=>e.filter(e=>e.id!==a)),await d(),!0}catch(e){const a=e.message||"Gagal menghapus data";return ae.error(a,{id:t}),!1}finally{i(!1)}}}},He=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Re=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),$e=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Oe=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Ue=()=>{const{data:e,loading:a,pagination:l,fetchData:r,deleteItem:n,changePage:s,changeLimit:c}=Le("umh/v1/jamaah"),{data:i}=Le("umh/v1/packages"),[m,o]=(0,t.useState)(!1),[d,u]=(0,t.useState)("create"),[p,g]=(0,t.useState)("pribadi"),[b,h]=(0,t.useState)(!1),E={full_name:"",full_name_ar:"",nik:"",passport_number:"",gender:"L",birth_place:"",birth_date:"",phone:"",email:"",address:"",city:"",job_title:"",education:"",father_name:"",mother_name:"",spouse_name:"",clothing_size:"L",disease_history:"",bpjs_number:"",package_id:"",package_price:0,status:"registered"},[y,v]=(0,t.useState)(E),[f,x]=(0,t.useState)({ktp:null,kk:null,passport:null,photo:null,buku_nikah:null});(0,t.useEffect)(()=>{r()},[r]);const N=(e,a)=>x(t=>({...t,[e]:a})),k=(e,a=null)=>{u(e),v(a||E),x({ktp:null,kk:null,passport:null,photo:null,buku_nikah:null}),g("pribadi"),o(!0)},_=[{header:"Nama Lengkap",accessor:"full_name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold text-gray-900"},e.full_name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.passport_number?`Paspor: ${e.passport_number}`:`NIK: ${e.nik||"-"}`))},{header:"Kontak",accessor:"phone",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"text-sm"},e.phone),(0,t.createElement)("div",{className:"text-xs text-gray-400"},e.city))},{header:"Paket",accessor:"package_name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-medium text-blue-600"},e.package_name||"Belum pilih"),(0,t.createElement)("div",{className:"text-xs text-gray-500"},ke(e.package_price)))},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase "+("registered"===e.status?"bg-blue-100 text-blue-700":"lunas"===e.status?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700")},e.status)}],w=({id:e,label:a,icon:l})=>(0,t.createElement)("button",{type:"button",onClick:()=>g(e),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium border-b-2 transition-colors "+(p===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700")},(0,t.createElement)(l,{size:16})," ",a);return(0,t.createElement)(he,{title:"Manajemen Data Jemaah"},(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-4 flex justify-between items-center gap-4"},(0,t.createElement)("div",{className:"w-full md:w-1/3"},(0,t.createElement)(Ie,{onSearch:e=>r(1,l.limit,e)})),(0,t.createElement)("button",{onClick:()=>k("create"),className:"btn-primary flex items-center gap-2"},(0,t.createElement)(He,{size:18})," Tambah Jemaah")),(0,t.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},(0,t.createElement)(Ae,{columns:_,data:e,loading:a,onDelete:n,onEdit:e=>k("edit",e)}),(0,t.createElement)(Ke,{pagination:l,onPageChange:s,onLimitChange:c})),(0,t.createElement)(ze,{isOpen:m,onClose:()=>o(!1),title:"create"===d?"Registrasi Jemaah Baru":"Edit Data Jemaah",size:"max-w-4xl"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{let e=y.id;const a="umh/v1/jamaah";if("create"===d?e=(await ne(a,y)).id:await ne(`${a}/${e}`,y),!e)throw new Error("Gagal menyimpan data.");const t=[];f.ktp&&t.push(ce(f.ktp,"scan_ktp",e)),f.kk&&t.push(ce(f.kk,"scan_kk",e)),f.passport&&t.push(ce(f.passport,"scan_passport",e)),f.photo&&t.push(ce(f.photo,"scan_photo",e)),f.buku_nikah&&t.push(ce(f.buku_nikah,"scan_buku_nikah",e)),t.length>0&&(h(!0),await Promise.all(t)),ae.success("Data Jemaah berhasil disimpan!"),o(!1),r()}catch(e){ae.error(e.message||"Terjadi kesalahan.")}finally{h(!1)}}},(0,t.createElement)("div",{className:"flex border-b border-gray-200 mb-4 overflow-x-auto"},(0,t.createElement)(w,{id:"pribadi",label:"Data Pribadi",icon:Re}),(0,t.createElement)(w,{id:"keluarga",label:"Keluarga",icon:Ee}),(0,t.createElement)(w,{id:"kesehatan",label:"Fisik & Kesehatan",icon:$e}),(0,t.createElement)(w,{id:"dokumen",label:"Dokumen",icon:Oe})),(0,t.createElement)("div",{className:"max-h-[65vh] overflow-y-auto px-1 custom-scrollbar"},"pribadi"===p&&(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Lengkap"),(0,t.createElement)("input",{className:"input-field",value:y.full_name,onChange:e=>v({...y,full_name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Arab (Opsional)"),(0,t.createElement)("input",{className:"input-field",value:y.full_name_ar,onChange:e=>v({...y,full_name_ar:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"NIK (KTP)"),(0,t.createElement)("input",{className:"input-field",value:y.nik,onChange:e=>v({...y,nik:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nomor Paspor"),(0,t.createElement)("input",{className:"input-field",value:y.passport_number,onChange:e=>v({...y,passport_number:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Jenis Kelamin"),(0,t.createElement)("select",{className:"input-field",value:y.gender,onChange:e=>v({...y,gender:e.target.value})},(0,t.createElement)("option",{value:"L"},"Laki-laki"),(0,t.createElement)("option",{value:"P"},"Perempuan"))),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-2"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tempat Lahir"),(0,t.createElement)("input",{className:"input-field",value:y.birth_place,onChange:e=>v({...y,birth_place:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tanggal Lahir"),(0,t.createElement)("input",{type:"date",className:"input-field",value:y.birth_date,onChange:e=>v({...y,birth_date:e.target.value})}))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. HP / WA"),(0,t.createElement)("input",{className:"input-field",value:y.phone,onChange:e=>v({...y,phone:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Email"),(0,t.createElement)("input",{type:"email",className:"input-field",value:y.email,onChange:e=>v({...y,email:e.target.value})})),(0,t.createElement)("div",{className:"md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Alamat Lengkap"),(0,t.createElement)("textarea",{className:"input-field",rows:"2",value:y.address,onChange:e=>v({...y,address:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kota Domisili"),(0,t.createElement)("input",{className:"input-field",value:y.city,onChange:e=>v({...y,city:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Pekerjaan"),(0,t.createElement)("input",{className:"input-field",value:y.job_title,onChange:e=>v({...y,job_title:e.target.value})}))),(0,t.createElement)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mt-4"},(0,t.createElement)("h4",{className:"font-bold text-blue-800 mb-2"},"Pilih Paket Perjalanan"),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Paket"),(0,t.createElement)("select",{className:"input-field",value:y.package_id,onChange:e=>{const a=e.target.value,t=i?.find(e=>String(e.id)===String(a));v(e=>({...e,package_id:a,package_price:t?t.price:0}))}},(0,t.createElement)("option",{value:""},"-- Pilih Paket --"),i?.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," - ",ke(e.price))))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Harga Deal (Rp)"),(0,t.createElement)("input",{type:"number",className:"input-field font-bold",value:y.package_price,onChange:e=>v({...y,package_price:e.target.value})}))))),"keluarga"===p&&(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Ayah Kandung"),(0,t.createElement)("input",{className:"input-field",value:y.father_name,onChange:e=>v({...y,father_name:e.target.value}),placeholder:"Penting untuk visa"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Ibu Kandung"),(0,t.createElement)("input",{className:"input-field",value:y.mother_name,onChange:e=>v({...y,mother_name:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Pasangan (Suami/Istri)"),(0,t.createElement)("input",{className:"input-field",value:y.spouse_name,onChange:e=>v({...y,spouse_name:e.target.value})})))),"kesehatan"===p&&(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Ukuran Pakaian"),(0,t.createElement)("select",{className:"input-field",value:y.clothing_size,onChange:e=>v({...y,clothing_size:e.target.value})},["XS","S","M","L","XL","XXL","3XL","4XL"].map(e=>(0,t.createElement)("option",{key:e,value:e},e)))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nomor BPJS / Asuransi"),(0,t.createElement)("input",{className:"input-field",value:y.bpjs_number,onChange:e=>v({...y,bpjs_number:e.target.value})})),(0,t.createElement)("div",{className:"md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Riwayat Penyakit"),(0,t.createElement)("textarea",{className:"input-field",rows:"3",value:y.disease_history,onChange:e=>v({...y,disease_history:e.target.value}),placeholder:"Sebutkan jika ada alergi atau penyakit khusus..."})))),"dokumen"===p&&(0,t.createElement)("div",{className:"space-y-4"},(0,t.createElement)("div",{className:"bg-yellow-50 p-3 rounded text-xs text-yellow-800 border border-yellow-200 mb-4"},"Format file: JPG, PNG, atau PDF. Maksimal 2MB per file."),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Scan KTP"),(0,t.createElement)("input",{type:"file",className:"input-field",onChange:e=>N("ktp",e.target.files[0])})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Scan KK"),(0,t.createElement)("input",{type:"file",className:"input-field",onChange:e=>N("kk",e.target.files[0])})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Scan Paspor"),(0,t.createElement)("input",{type:"file",className:"input-field",onChange:e=>N("passport",e.target.files[0])})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Pas Foto"),(0,t.createElement)("input",{type:"file",className:"input-field",onChange:e=>N("photo",e.target.files[0])})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Buku Nikah"),(0,t.createElement)("input",{type:"file",className:"input-field",onChange:e=>N("buku_nikah",e.target.files[0])}))))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-6 border-t mt-4"},(0,t.createElement)("button",{type:"button",onClick:()=>o(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary w-32",disabled:b},b?"Menyimpan...":"Simpan Data")))))},Je=ue("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),Fe=ue("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]),Ge=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),We=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ve=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Xe=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Le("umh/v1/packages"),[c,i]=(0,t.useState)([]),[m,o]=(0,t.useState)([]),[d,u]=(0,t.useState)([]);(0,t.useEffect)(()=>{l(),re("umh/v1/package-categories").then(i).catch(()=>{}),re("umh/v1/hotels").then(o).catch(()=>{}),re("umh/v1/flights").then(u).catch(()=>{})},[l]);const[p,g]=(0,t.useState)(!1),[b,h]=(0,t.useState)("create"),[E,y]=(0,t.useState)(null),v={name:"",category_id:"",duration_days:9,airline_id:"",hotel_makkah_id:"",hotel_madinah_id:"",base_price:0,description:"",included_features:"",excluded_features:""},[f,x]=(0,t.useState)(v),N=(e,a=null)=>{h(e),y(a),x(a||v),g(!0)},k=e=>m.find(a=>String(a.id)===String(e))?.name||"-",_=[{header:"Nama Paket",accessor:"name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold text-blue-900"},e.name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.category_name||"Umrah Reguler"," â€¢ ",e.duration_days," Hari"))},{header:"Maskapai",accessor:"airline_id",render:e=>{return(0,t.createElement)("div",{className:"flex items-center gap-1 text-sm"},(0,t.createElement)(Je,{size:14})," ",(a=e.airline_id,d.find(e=>String(e.id)===String(a))?.name||"-"));var a}},{header:"Akomodasi",accessor:"hotel_makkah_id",render:e=>(0,t.createElement)("div",{className:"text-xs"},(0,t.createElement)("div",{className:"flex items-center gap-1"},(0,t.createElement)(Fe,{size:12})," Mek: ",k(e.hotel_makkah_id)),(0,t.createElement)("div",{className:"flex items-center gap-1 mt-1"},(0,t.createElement)(Fe,{size:12})," Mad: ",k(e.hotel_madinah_id)))},{header:"Harga Mulai",accessor:"base_price",render:e=>(0,t.createElement)("span",{className:"font-semibold text-green-700"},ke(e.base_price))}];return(0,t.createElement)(he,{title:"Paket Umrah & Haji"},(0,t.createElement)("div",{className:"mb-4 flex justify-between items-center"},(0,t.createElement)("p",{className:"text-sm text-gray-500"},"Kelola master paket, fasilitas, dan spesifikasi standar."),(0,t.createElement)("button",{onClick:()=>N("create"),className:"btn-primary flex gap-2"},(0,t.createElement)(He,{size:18})," Buat Paket Baru")),(0,t.createElement)(Ae,{columns:_,data:e,loading:a,onEdit:e=>N("edit",e),onDelete:s}),(0,t.createElement)(ze,{isOpen:p,onClose:()=>g(!1),title:"create"===b?"Buat Paket Baru":"Edit Paket",size:"max-w-4xl"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===b?await r(f):await n(E.id,f))&&(g(!1),l())},className:"space-y-6"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Nama Paket"),(0,t.createElement)("input",{className:"input-field font-bold",value:f.name,onChange:e=>x({...f,name:e.target.value}),placeholder:"Cth: Paket Umrah Hemat 9 Hari",required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kategori"),(0,t.createElement)("select",{className:"input-field",value:f.category_id,onChange:e=>x({...f,category_id:e.target.value})},(0,t.createElement)("option",{value:""},"-- Pilih Kategori --"),c.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Durasi (Hari)"),(0,t.createElement)("div",{className:"relative"},(0,t.createElement)("input",{type:"number",className:"input-field pl-10",value:f.duration_days,onChange:e=>x({...f,duration_days:e.target.value})}),(0,t.createElement)(Ge,{className:"absolute left-3 top-2.5 text-gray-400",size:18}))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Harga Dasar (Mulai Dari)"),(0,t.createElement)("input",{type:"number",className:"input-field",value:f.base_price,onChange:e=>x({...f,base_price:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Maskapai Penerbangan"),(0,t.createElement)("select",{className:"input-field",value:f.airline_id,onChange:e=>x({...f,airline_id:e.target.value})},(0,t.createElement)("option",{value:""},"-- Pilih Maskapai --"),d.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name))))),(0,t.createElement)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200"},(0,t.createElement)("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2"},(0,t.createElement)(Fe,{size:18})," Standar Akomodasi"),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Hotel Makkah"),(0,t.createElement)("select",{className:"input-field",value:f.hotel_makkah_id,onChange:e=>x({...f,hotel_makkah_id:e.target.value})},(0,t.createElement)("option",{value:""},"-- Pilih Hotel --"),m.filter(e=>"Makkah"===e.city).map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," (",e.rating,"*)")))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Hotel Madinah"),(0,t.createElement)("select",{className:"input-field",value:f.hotel_madinah_id,onChange:e=>x({...f,hotel_madinah_id:e.target.value})},(0,t.createElement)("option",{value:""},"-- Pilih Hotel --"),m.filter(e=>"Madinah"===e.city).map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," (",e.rating,"*)")))))),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label flex items-center gap-2 text-green-700"},(0,t.createElement)(We,{size:16})," Termasuk (Pisahkan dengan Enter)"),(0,t.createElement)("textarea",{className:"input-field",rows:"5",value:f.included_features,onChange:e=>x({...f,included_features:e.target.value}),placeholder:"- Tiket Pesawat PP\n- Visa Umrah\n- Makan 3x Sehari"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label flex items-center gap-2 text-red-700"},(0,t.createElement)(Ve,{size:16})," Tidak Termasuk (Pisahkan dengan Enter)"),(0,t.createElement)("textarea",{className:"input-field",rows:"5",value:f.excluded_features,onChange:e=>x({...f,excluded_features:e.target.value}),placeholder:"- Pembuatan Paspor\n- Vaksin Meningitis\n- Kelebihan Bagasi"}))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>g(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan Paket")))))},Ze=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Qe=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Le("umh/v1/departures"),{data:c}=Le("umh/v1/packages"),[i,m]=(0,t.useState)([]);(0,t.useEffect)(()=>{re("umh/v1/hotels").then(m).catch(console.error),l()},[l]);const[o,d]=(0,t.useState)(!1),[u,p]=(0,t.useState)("create"),[g,b]=(0,t.useState)(null),[h,E]=(0,t.useState)({package_id:"",departure_date:"",return_date:"",quota:45,price_quad:0,price_triple:0,price_double:0,hotel_makkah_id:"",hotel_madinah_id:"",tour_leader_name:"",mutawwif_name:"",currency:"IDR"}),y=(e,a=null)=>{p(e),b(a),E(a?{...a,departure_date:a.departure_date?.split("T")[0],return_date:a.return_date?.split("T")[0]}:{package_id:"",departure_date:"",return_date:"",quota:45,price_quad:0,price_triple:0,price_double:0,hotel_makkah_id:"",hotel_madinah_id:"",tour_leader_name:"",mutawwif_name:"",currency:"IDR"}),d(!0)},v=[{header:"Keberangkatan",accessor:"departure_date",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-medium flex items-center gap-2"},(0,t.createElement)(xe,{size:16,className:"text-blue-500"})," ",_e(e.departure_date)),(0,t.createElement)("div",{className:"text-xs text-gray-500"},"Pulang: ",_e(e.return_date)))},{header:"Paket",accessor:"package_name",className:"font-bold"},{header:"Harga (Quad)",accessor:"price_quad",render:e=>(0,t.createElement)("div",{className:"font-semibold text-green-700"},e.currency," ",ke(e.price_quad).replace("Rp",""))},{header:"Seat",accessor:"quota",render:e=>(0,t.createElement)("div",{className:"flex flex-col items-center"},(0,t.createElement)("span",{className:"badge bg-blue-50 text-blue-700"},e.quota," Total"),(0,t.createElement)("span",{className:"text-[10px] text-gray-500 mt-1"},e.filled_seats||0," Terisi"))},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:"badge uppercase text-xs "+("open"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},e.status)}];return(0,t.createElement)(he,{title:"Jadwal Keberangkatan"},(0,t.createElement)("div",{className:"mb-6 flex justify-between items-center"},(0,t.createElement)("p",{className:"text-gray-500 text-sm"},"Atur jadwal, harga per tipe kamar, dan hotel spesifik."),(0,t.createElement)("button",{onClick:()=>y("create"),className:"btn-primary flex items-center gap-2"},(0,t.createElement)(He,{size:18})," Tambah Jadwal")),(0,t.createElement)(Ae,{columns:v,data:e,loading:a,onEdit:e=>y("edit",e),onDelete:s}),(0,t.createElement)(ze,{isOpen:o,onClose:()=>d(!1),title:"create"===u?"Jadwal Baru":"Edit Jadwal",size:"max-w-3xl"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===u?await r(h):await n(g.id,h))&&(d(!1),l())},className:"space-y-5"},(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"col-span-2"},(0,t.createElement)("label",{className:"label"},"Paket Perjalanan"),(0,t.createElement)("select",{className:"input-field",value:h.package_id,onChange:e=>{const a=e.target.value,t=c?.find(e=>String(e.id)===String(a));E(e=>({...e,package_id:a,price_quad:t?t.price:0,price_triple:t?Number(t.price)+1e6:0,price_double:t?Number(t.price)+2e6:0}))},required:!0,disabled:"edit"===u},(0,t.createElement)("option",{value:""},"-- Pilih Paket --"),c?.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name)))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tanggal Berangkat"),(0,t.createElement)("input",{type:"date",className:"input-field",value:h.departure_date,onChange:e=>E({...h,departure_date:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tanggal Pulang"),(0,t.createElement)("input",{type:"date",className:"input-field",value:h.return_date,onChange:e=>E({...h,return_date:e.target.value}),required:!0}))),(0,t.createElement)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100"},(0,t.createElement)("h4",{className:"font-bold text-green-800 mb-3 flex items-center gap-2"},(0,t.createElement)(Ze,{size:16})," Harga Jual Per Pax"),(0,t.createElement)("div",{className:"grid grid-cols-3 gap-3"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"text-xs font-semibold text-gray-600"},"Quad (Sekamar Ber-4)"),(0,t.createElement)("input",{type:"number",className:"input-field",value:h.price_quad,onChange:e=>E({...h,price_quad:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"text-xs font-semibold text-gray-600"},"Triple (Sekamar Ber-3)"),(0,t.createElement)("input",{type:"number",className:"input-field",value:h.price_triple,onChange:e=>E({...h,price_triple:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"text-xs font-semibold text-gray-600"},"Double (Sekamar Ber-2)"),(0,t.createElement)("input",{type:"number",className:"input-field",value:h.price_double,onChange:e=>E({...h,price_double:e.target.value})}))),(0,t.createElement)("div",{className:"mt-3 flex gap-4"},(0,t.createElement)("div",{className:"w-1/3"},(0,t.createElement)("label",{className:"label"},"Mata Uang"),(0,t.createElement)("select",{className:"input-field",value:h.currency,onChange:e=>E({...h,currency:e.target.value})},(0,t.createElement)("option",{value:"IDR"},"IDR (Rupiah)"),(0,t.createElement)("option",{value:"USD"},"USD (Dolar)"))),(0,t.createElement)("div",{className:"w-1/3"},(0,t.createElement)("label",{className:"label"},"Kuota Seat"),(0,t.createElement)("input",{type:"number",className:"input-field",value:h.quota,onChange:e=>E({...h,quota:e.target.value})})))),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label flex items-center gap-1"},(0,t.createElement)(Fe,{size:14})," Hotel Makkah"),(0,t.createElement)("select",{className:"input-field",value:h.hotel_makkah_id,onChange:e=>E({...h,hotel_makkah_id:e.target.value})},(0,t.createElement)("option",{value:""},"Default Paket"),i.filter(e=>"Makkah"===e.city).map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," (",e.rating,"*)")))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label flex items-center gap-1"},(0,t.createElement)(Fe,{size:14})," Hotel Madinah"),(0,t.createElement)("select",{className:"input-field",value:h.hotel_madinah_id,onChange:e=>E({...h,hotel_madinah_id:e.target.value})},(0,t.createElement)("option",{value:""},"Default Paket"),i.filter(e=>"Madinah"===e.city).map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.name," (",e.rating,"*)")))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tour Leader"),(0,t.createElement)("input",{className:"input-field",value:h.tour_leader_name,onChange:e=>E({...h,tour_leader_name:e.target.value}),placeholder:"Nama TL"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Mutawwif"),(0,t.createElement)("input",{className:"input-field",value:h.mutawwif_name,onChange:e=>E({...h,mutawwif_name:e.target.value}),placeholder:"Nama Mutawwif"}))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>d(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan Jadwal")))))},Ye=ue("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),ea=()=>{const{data:e,loading:a,fetchData:l,createItem:r,deleteItem:n}=Le("umh/v1/payments"),[s,c]=(0,t.useState)([]),[i,m]=(0,t.useState)("");(0,t.useEffect)(()=>{l(),re("umh/v1/jamaah?status=registered").then(e=>c(e.data||e)).catch(()=>[])},[l]);const[o,d]=(0,t.useState)(!1),u={jamaah_id:"",amount:"",payment_date:(new Date).toISOString().split("T")[0],payment_method:"transfer",status:"verified",notes:""},[p,g]=(0,t.useState)(u),[b,h]=(0,t.useState)(null),E=[{header:"Tanggal",accessor:"payment_date",render:e=>(0,t.createElement)("span",{className:"text-gray-600 text-sm"},_e(e.payment_date))},{header:"Jemaah",accessor:"jamaah_name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold"},e.jamaah_name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},"ID: ",e.jamaah_id))},{header:"Jumlah",accessor:"amount",render:e=>(0,t.createElement)("span",{className:"font-bold text-green-700"},ke(e.amount))},{header:"Metode",accessor:"payment_method",render:e=>(0,t.createElement)("span",{className:"uppercase text-xs font-semibold bg-gray-100 px-2 py-1 rounded"},e.payment_method)},{header:"Status",accessor:"status",render:e=>"verified"===e.status?(0,t.createElement)("span",{className:"flex items-center gap-1 text-green-600 text-xs font-bold"},(0,t.createElement)(We,{size:12})," Diterima"):(0,t.createElement)("span",{className:"flex items-center gap-1 text-orange-600 text-xs font-bold"},(0,t.createElement)(Ge,{size:12})," Menunggu")}];return(0,t.createElement)(he,{title:"Keuangan & Pembayaran"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-blue-100"},(0,t.createElement)("div",{className:"text-gray-500 text-sm mb-1"},"Total Pemasukan (Bulan Ini)"),(0,t.createElement)("div",{className:"text-2xl font-bold text-blue-700"},"Rp 1.250.000.000")),(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-orange-100"},(0,t.createElement)("div",{className:"text-gray-500 text-sm mb-1"},"Tagihan Belum Lunas"),(0,t.createElement)("div",{className:"text-2xl font-bold text-orange-600"},"Rp 450.000.000")),(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-green-100"},(0,t.createElement)("div",{className:"text-gray-500 text-sm mb-1"},"Transaksi Berhasil"),(0,t.createElement)("div",{className:"text-2xl font-bold text-green-700"},"142 Transaksi"))),(0,t.createElement)("div",{className:"mb-4 flex justify-between items-center bg-white p-3 rounded-lg border"},(0,t.createElement)("h3",{className:"font-bold text-gray-700 flex items-center gap-2"},(0,t.createElement)(Ye,{size:20})," Riwayat Transaksi"),(0,t.createElement)("button",{onClick:()=>d(!0),className:"btn-primary flex gap-2"},(0,t.createElement)(He,{size:18})," Catat Pembayaran")),(0,t.createElement)(Ae,{columns:E,data:e,loading:a,onDelete:n}),(0,t.createElement)(ze,{isOpen:o,onClose:()=>d(!1),title:"Catat Pembayaran Jemaah",size:"max-w-xl"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),await r(p)&&(d(!1),g(u),h(null),ae.success("Pembayaran berhasil dicatat"))},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Cari Jemaah"),(0,t.createElement)("select",{className:"input-field",value:p.jamaah_id,onChange:e=>{const a=e.target.value;g({...p,jamaah_id:a});const t=s.find(e=>String(e.id)===String(a));h(t)},required:!0},(0,t.createElement)("option",{value:""},"-- Pilih Jemaah --"),s.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.full_name," - ",e.package_name||"Tanpa Paket")))),b&&(0,t.createElement)("div",{className:"bg-blue-50 p-3 rounded text-sm text-blue-800 border border-blue-100"},(0,t.createElement)("div",null,(0,t.createElement)("strong",null,"Paket:")," ",b.package_name),(0,t.createElement)("div",null,(0,t.createElement)("strong",null,"Total Tagihan:")," ",ke(b.package_price||0))),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tanggal Bayar"),(0,t.createElement)("input",{type:"date",className:"input-field",value:p.payment_date,onChange:e=>g({...p,payment_date:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Metode Pembayaran"),(0,t.createElement)("select",{className:"input-field",value:p.payment_method,onChange:e=>g({...p,payment_method:e.target.value})},(0,t.createElement)("option",{value:"transfer"},"Transfer Bank"),(0,t.createElement)("option",{value:"cash"},"Tunai / Cash"),(0,t.createElement)("option",{value:"qris"},"QRIS"),(0,t.createElement)("option",{value:"edc"},"Kartu Debit/Kredit (EDC)")))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Jumlah Pembayaran (Rp)"),(0,t.createElement)("input",{type:"number",className:"input-field text-lg font-bold",value:p.amount,onChange:e=>g({...p,amount:e.target.value}),placeholder:"0",required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Catatan / Referensi"),(0,t.createElement)("textarea",{className:"input-field",rows:"2",value:p.notes,onChange:e=>g({...p,notes:e.target.value}),placeholder:"No. Referensi Transfer / Keterangan"})),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>d(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary w-full md:w-auto"},"Simpan Transaksi")))))},aa=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ta=ue("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),la=()=>{const[e,a]=(0,t.useState)("leads"),l=Le("umh/v1/marketing/leads"),r=Le("umh/v1/marketing/campaigns");(0,t.useEffect)(()=>{"leads"===e?l.fetchData():r.fetchData()},[e]);const[n,s]=(0,t.useState)(!1),[c,i]=(0,t.useState)({}),m=[{header:"Nama Calon Jemaah",accessor:"name",className:"font-bold"},{header:"WhatsApp",accessor:"phone",render:e=>(0,t.createElement)("div",{className:"flex items-center gap-1 text-green-600"},(0,t.createElement)(aa,{size:14})," ",e.phone)},{header:"Sumber",accessor:"source",render:e=>(0,t.createElement)("span",{className:"badge bg-gray-100"},e.source)},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:`badge text-xs uppercase ${{new:"bg-blue-100 text-blue-700",contacted:"bg-yellow-100 text-yellow-700",closed:"bg-green-100 text-green-700"}[e.status]||"bg-gray-100"}`},e.status)},{header:"Follow Up",accessor:"follow_up_date",render:e=>e.follow_up_date||"-"}],o=[{header:"Judul Kampanye",accessor:"title",className:"font-bold"},{header:"Platform",accessor:"platform",render:e=>(0,t.createElement)("span",{className:"uppercase badge bg-purple-50 text-purple-700"},e.platform)},{header:"Budget",accessor:"budget"},{header:"Status",accessor:"status"}];return(0,t.createElement)(he,{title:"Marketing & Leads"},(0,t.createElement)("div",{className:"flex space-x-4 border-b border-gray-200 mb-6"},(0,t.createElement)("button",{className:"pb-3 px-4 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors "+("leads"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>a("leads")},(0,t.createElement)(Ee,{size:18})," Data Calon Jemaah (Leads)"),(0,t.createElement)("button",{className:"pb-3 px-4 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors "+("campaigns"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>a("campaigns")},(0,t.createElement)(ta,{size:18})," Kampanye Iklan")),(0,t.createElement)("div",{className:"flex justify-end mb-4"},(0,t.createElement)("button",{onClick:()=>{i({}),s(!0)},className:"btn-primary flex items-center gap-2"},(0,t.createElement)(He,{size:18})," Tambah ","leads"===e?"Prospek":"Kampanye")),"leads"===e?(0,t.createElement)(Ae,{columns:m,data:l.data,loading:l.loading,onDelete:l.deleteItem}):(0,t.createElement)(Ae,{columns:o,data:r.data,loading:r.loading,onDelete:r.deleteItem}),(0,t.createElement)(ze,{isOpen:n,onClose:()=>s(!1),title:"leads"===e?"Input Calon Jemaah":"Buat Kampanye Baru"},(0,t.createElement)("form",{onSubmit:async a=>{a.preventDefault();const t="leads"===e?l:r;await t.createItem(c)&&s(!1)},className:"space-y-4"},"leads"===e?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Lengkap"),(0,t.createElement)("input",{className:"input-field",onChange:e=>i({...c,name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. WhatsApp"),(0,t.createElement)("input",{className:"input-field",onChange:e=>i({...c,phone:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Sumber Datang"),(0,t.createElement)("select",{className:"input-field",onChange:e=>i({...c,source:e.target.value})},(0,t.createElement)("option",{value:"walk_in"},"Datang Langsung"),(0,t.createElement)("option",{value:"ig"},"Instagram"),(0,t.createElement)("option",{value:"fb"},"Facebook"),(0,t.createElement)("option",{value:"referral"},"Referensi Teman"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Rencana Follow Up"),(0,t.createElement)("input",{type:"date",className:"input-field",onChange:e=>i({...c,follow_up_date:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Catatan"),(0,t.createElement)("textarea",{className:"input-field",rows:"2",onChange:e=>i({...c,notes:e.target.value})}))):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Judul Kampanye"),(0,t.createElement)("input",{className:"input-field",onChange:e=>i({...c,title:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Platform"),(0,t.createElement)("input",{className:"input-field",onChange:e=>i({...c,platform:e.target.value}),placeholder:"FB Ads / IG Ads / Spanduk"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Budget"),(0,t.createElement)("input",{type:"number",className:"input-field",onChange:e=>i({...c,budget:e.target.value})}))),(0,t.createElement)("div",{className:"flex justify-end pt-4"},(0,t.createElement)("button",{className:"btn-primary"},"Simpan")))))},ra=ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),na=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Le("umh/v1/agents");(0,t.useEffect)(()=>{l()},[l]);const[c,i]=(0,t.useState)(!1),[m,o]=(0,t.useState)("create"),[d,u]=(0,t.useState)(null),p={name:"",email:"",phone:"",agency_name:"",level:"silver",commission_rate:0,bank_name:"",bank_number:"",bank_holder:"",status:"active"},[g,b]=(0,t.useState)(p),h=(e,a=null)=>{o(e),u(a),b(a||p),i(!0)},E=[{header:"Nama Agen",accessor:"name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold text-gray-900"},e.name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.agency_name||"Perorangan"))},{header:"Kontak",accessor:"phone",render:e=>(0,t.createElement)("div",{className:"text-sm"},(0,t.createElement)("div",{className:"flex items-center gap-1"},(0,t.createElement)(aa,{size:12})," ",e.phone),(0,t.createElement)("div",{className:"text-gray-500 text-xs"},e.email))},{header:"Level",accessor:"level",render:e=>(0,t.createElement)("span",{className:"px-2 py-1 rounded-full text-xs font-bold uppercase \n                "+("platinum"===e.level?"bg-purple-100 text-purple-700":"gold"===e.level?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700")},e.level)},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:"text-xs font-medium "+("active"===e.status?"text-green-600":"text-red-600")},"active"===e.status?"Aktif":"Non-Aktif")}];return(0,t.createElement)(he,{title:"Manajemen Agen & Mitra"},(0,t.createElement)("div",{className:"mb-4 flex justify-end"},(0,t.createElement)("button",{onClick:()=>h("create"),className:"btn-primary flex gap-2"},(0,t.createElement)(He,{size:18})," Tambah Agen Baru")),(0,t.createElement)(Ae,{columns:E,data:e,loading:a,onEdit:e=>h("edit",e),onDelete:s}),(0,t.createElement)(ze,{isOpen:c,onClose:()=>i(!1),title:"create"===m?"Registrasi Agen":"Edit Data Agen",size:"max-w-3xl"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===m?await r(g):await n(d.id,g))&&i(!1)},className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Lengkap"),(0,t.createElement)("input",{className:"input-field",value:g.name,onChange:e=>b({...g,name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Travel/Agency (Opsional)"),(0,t.createElement)("input",{className:"input-field",value:g.agency_name,onChange:e=>b({...g,agency_name:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. WhatsApp"),(0,t.createElement)("input",{className:"input-field",value:g.phone,onChange:e=>b({...g,phone:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Email"),(0,t.createElement)("input",{type:"email",className:"input-field",value:g.email,onChange:e=>b({...g,email:e.target.value})}))),(0,t.createElement)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100"},(0,t.createElement)("h4",{className:"font-bold text-blue-800 mb-2 flex items-center gap-2"},(0,t.createElement)(ra,{size:16})," Status Kemitraan"),(0,t.createElement)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Level Agen"),(0,t.createElement)("select",{className:"input-field",value:g.level,onChange:e=>b({...g,level:e.target.value})},(0,t.createElement)("option",{value:"silver"},"Silver (Standard)"),(0,t.createElement)("option",{value:"gold"},"Gold"),(0,t.createElement)("option",{value:"platinum"},"Platinum"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Fee / Komisi (Rp)"),(0,t.createElement)("input",{type:"number",className:"input-field",value:g.commission_rate,onChange:e=>b({...g,commission_rate:e.target.value}),placeholder:"Contoh: 500000"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Status Akun"),(0,t.createElement)("select",{className:"input-field",value:g.status,onChange:e=>b({...g,status:e.target.value})},(0,t.createElement)("option",{value:"active"},"Aktif"),(0,t.createElement)("option",{value:"inactive"},"Non-Aktif"),(0,t.createElement)("option",{value:"suspended"},"Suspended"))))),(0,t.createElement)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200"},(0,t.createElement)("h4",{className:"font-bold text-gray-700 mb-2 flex items-center gap-2"},(0,t.createElement)(ye,{size:16})," Rekening Pencairan Komisi"),(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Bank"),(0,t.createElement)("input",{className:"input-field",value:g.bank_name,onChange:e=>b({...g,bank_name:e.target.value}),placeholder:"BCA, Mandiri, dll"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nomor Rekening"),(0,t.createElement)("input",{className:"input-field",value:g.bank_number,onChange:e=>b({...g,bank_number:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Atas Nama"),(0,t.createElement)("input",{className:"input-field",value:g.bank_holder,onChange:e=>b({...g,bank_holder:e.target.value})})))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan Data Agen")))))},sa=()=>{const{user:e}=me(),{data:a,loading:l,createItem:r,updateItem:n,deleteItem:s}=Le("tasks"),{data:c,fetchData:i}=Le("hr");(0,t.useEffect)(()=>{i()},[]);const[m,o]=(0,t.useState)(!1),[d,u]=(0,t.useState)("create"),[p,g]=(0,t.useState)(null),[b,h]=(0,t.useState)({}),E=(e,a=null)=>{u(e),g(a),h(a||{title:"",assigned_to:"",due_date:"",status:"pending",priority:"medium"}),o(!0)},y=[{header:"Judul Tugas",accessor:"title",sortable:!0},{header:"Ditugaskan Ke",accessor:"assigned_to",render:e=>(e=>{if(!c||0===c.length)return(0,t.createElement)("span",{className:"text-gray-400 text-xs"},"Memuat...");const a=c.find(a=>String(a.user_id)===String(e)||String(a.id)===String(e));return a?(0,t.createElement)("span",{className:"font-medium text-blue-700"},a.name):(0,t.createElement)("span",{className:"text-gray-500 italic text-xs"},"ID: ",e," (Tidak ditemukan)")})(e.assigned_to)},{header:"Tenggat",accessor:"due_date",render:e=>(0,t.createElement)("div",{className:"text-sm "+(new Date(e.due_date)<new Date&&"completed"!==e.status?"text-red-600 font-bold flex items-center gap-1":"text-gray-600")},new Date(e.due_date)<new Date&&"completed"!==e.status&&(0,t.createElement)(Ne,{size:12}),_e(e.due_date))},{header:"Prioritas",accessor:"priority",render:e=>(0,t.createElement)("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase border ${{high:"text-red-600 bg-red-50 border-red-200",medium:"text-yellow-600 bg-yellow-50 border-yellow-200",low:"text-green-600 bg-green-50 border-green-200"}[e.priority]||"text-gray-600"}`},e.priority)},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${{pending:"text-gray-500 bg-gray-100",in_progress:"text-blue-600 bg-blue-100",completed:"text-green-600 bg-green-100"}[e.status]||""}`},"completed"===e.status?(0,t.createElement)(We,{size:14}):(0,t.createElement)(Ge,{size:14}),"in_progress"===e.status?"Sedang Dikerjakan":e.status)}];return(0,t.createElement)(he,{title:"Manajemen Tugas Tim"},(0,t.createElement)("div",{className:"flex justify-end mb-4"},(0,t.createElement)("button",{onClick:()=>E("create"),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-700 shadow-sm transition-colors"},(0,t.createElement)(He,{size:18})," Buat Tugas Baru")),(0,t.createElement)(Ae,{columns:y,data:a,loading:l,onEdit:e=>E("edit",e),onDelete:async e=>{window.confirm("Apakah Anda yakin ingin menghapus tugas ini?")&&await s(e)&&ae.success("Tugas dihapus.")},userCapabilities:e?.role}),(0,t.createElement)(ze,{isOpen:m,onClose:()=>o(!1),title:"create"===d?"Tugas Baru":"Edit Tugas"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===d?await r(b):await n(p.id,b))?(o(!1),ae.success("create"===d?"Tugas baru berhasil dibuat!":"Tugas berhasil diperbarui!")):ae.error("Gagal menyimpan tugas. Silakan coba lagi.")},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Judul Tugas"),(0,t.createElement)("input",{type:"text",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow",value:b.title||"",onChange:e=>h({...b,title:e.target.value}),required:!0,placeholder:"Contoh: Follow up jamaah keberangkatan Oktober"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Ditugaskan Kepada (Tim)"),(0,t.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:b.assigned_to||"",onChange:e=>h({...b,assigned_to:e.target.value}),required:!0},(0,t.createElement)("option",{value:""},"-- Pilih Karyawan --"),c&&c.map(e=>(0,t.createElement)("option",{key:e.id,value:e.user_id||e.id},e.name," - ",e.position||"Staff"))),(0,t.createElement)("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1"},(0,t.createElement)(Ne,{size:12})," Pastikan karyawan sudah ditautkan dengan Akun User di menu HR agar notifikasi masuk.")),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Tenggat Waktu"),(0,t.createElement)("input",{type:"date",className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:b.due_date||"",onChange:e=>h({...b,due_date:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Prioritas"),(0,t.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:b.priority||"medium",onChange:e=>h({...b,priority:e.target.value})},(0,t.createElement)("option",{value:"low"},"Rendah"),(0,t.createElement)("option",{value:"medium"},"Sedang"),(0,t.createElement)("option",{value:"high"},"Tinggi (Urgent)")))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700"},"Status"),(0,t.createElement)("select",{className:"w-full border rounded p-2 focus:ring-blue-500 focus:border-blue-500",value:b.status||"pending",onChange:e=>h({...b,status:e.target.value})},(0,t.createElement)("option",{value:"pending"},"Pending (Belum Mulai)"),(0,t.createElement)("option",{value:"in_progress"},"Sedang Dikerjakan"),(0,t.createElement)("option",{value:"completed"},"Selesai"))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4"},(0,t.createElement)("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow-sm"},"create"===d?"Buat Tugas":"Simpan Perubahan")))))},ca=ue("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),ia=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Le("umh/v1/logistics");(0,t.useEffect)(()=>{l()},[l]);const[c,i]=(0,t.useState)(!1),[m,o]=(0,t.useState)("create"),[d,u]=(0,t.useState)(null),[p,g]=(0,t.useState)({item_name:"",stock_qty:0,min_stock_alert:10,unit:"Pcs"}),b=(e,a=null)=>{o(e),u(a),g(a||{item_name:"",stock_qty:0,min_stock_alert:10,unit:"Pcs"}),i(!0)},h=[{header:"Nama Barang",accessor:"item_name",render:e=>(0,t.createElement)("div",{className:"flex items-center gap-2 font-medium"},(0,t.createElement)(ca,{size:16,className:"text-gray-400"})," ",e.item_name)},{header:"Stok Saat Ini",accessor:"stock_qty",render:e=>(0,t.createElement)("span",{className:"font-bold "+(Number(e.stock_qty)<=Number(e.min_stock_alert)?"text-red-600":"text-green-600")},e.stock_qty," ",e.unit)},{header:"Status Stok",accessor:"status",render:e=>Number(e.stock_qty)<=Number(e.min_stock_alert)?(0,t.createElement)("span",{className:"badge bg-red-100 text-red-700 text-xs"},"Stok Menipis"):(0,t.createElement)("span",{className:"badge bg-green-100 text-green-700 text-xs"},"Aman")}];return(0,t.createElement)(he,{title:"Manajemen Logistik & Perlengkapan"},(0,t.createElement)("div",{className:"flex justify-between items-center mb-4"},(0,t.createElement)("p",{className:"text-sm text-gray-500"},"Kelola stok koper, kain ihram, bahan batik, dan perlengkapan lainnya."),(0,t.createElement)("button",{onClick:()=>b("create"),className:"btn-primary flex items-center gap-2"},(0,t.createElement)(He,{size:18})," Tambah Barang")),(0,t.createElement)(Ae,{columns:h,data:e,loading:a,onEdit:e=>b("edit",e),onDelete:s}),(0,t.createElement)(ze,{isOpen:c,onClose:()=>i(!1),title:"create"===m?"Tambah Inventaris":"Update Stok"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===m?await r(p):await n(d.id,p))&&i(!1)},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Barang"),(0,t.createElement)("input",{className:"input-field",value:p.item_name,onChange:e=>g({...p,item_name:e.target.value}),placeholder:"Koper 24 Inch, Kain Batik, dll",required:!0})),(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Jumlah Stok"),(0,t.createElement)("input",{type:"number",className:"input-field",value:p.stock_qty,onChange:e=>g({...p,stock_qty:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Satuan"),(0,t.createElement)("select",{className:"input-field",value:p.unit,onChange:e=>g({...p,unit:e.target.value})},(0,t.createElement)("option",{value:"Pcs"},"Pcs"),(0,t.createElement)("option",{value:"Box"},"Box"),(0,t.createElement)("option",{value:"Lusin"},"Lusin"),(0,t.createElement)("option",{value:"Meter"},"Meter")))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Peringatan Stok Minimum"),(0,t.createElement)("input",{type:"number",className:"input-field",value:p.min_stock_alert,onChange:e=>g({...p,min_stock_alert:e.target.value})}),(0,t.createElement)("p",{className:"text-xs text-gray-400 mt-1"},"Sistem akan memberi peringatan di dashboard jika stok di bawah angka ini.")),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},ma=()=>{const{user:e}=me(),{data:a,loading:l,pagination:r,fetchData:n,createItem:s,updateItem:c,deleteItem:i,changePage:m,changeLimit:o}=Le("umh/v1/hr");(0,t.useEffect)(()=>{n()},[n]);const[d,u]=(0,t.useState)(!1),[p,g]=(0,t.useState)({}),[b,h]=(0,t.useState)(!1),[E,y]=(0,t.useState)(""),v=(0,t.useMemo)(()=>a?{total:r?.total_items||a.length,active:a.filter(e=>"active"===e.status).length,expense:a.reduce((e,a)=>e+(parseFloat(a.salary)||0),0)}:{total:0,active:0,expense:0},[a,r]),f=(e=null)=>{e?(g(e),h(!0)):(g({status:"active",joined_date:(new Date).toISOString().split("T")[0]}),h(!1)),u(!0)},x=[{header:"Nama Karyawan",accessor:"name",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"font-bold text-gray-900"},e.name),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.email))},{header:"Posisi & Kontak",accessor:"position",render:e=>(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"text-sm font-medium"},e.position||"-"),(0,t.createElement)("div",{className:"text-xs text-gray-500"},e.phone||"-"))},{header:"Gaji Pokok",accessor:"salary",className:"text-right",render:e=>ke(e.salary)},{header:"Bergabung",accessor:"joined_date",render:e=>_e(e.joined_date)},{header:"Status",accessor:"status",render:e=>(0,t.createElement)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold "+("active"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700")},"active"===e.status?"Aktif":"Tidak Aktif")}],N=({icon:e,label:a,value:l,color:r})=>(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4"},(0,t.createElement)("div",{className:`p-3 rounded-full ${r}`},(0,t.createElement)(e,{size:24,className:"text-white"})),(0,t.createElement)("div",null,(0,t.createElement)("p",{className:"text-sm text-gray-500"},a),(0,t.createElement)("h3",{className:"text-xl font-bold text-gray-800"},l)));return(0,t.createElement)(he,{title:"Manajemen SDM (HR)"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},(0,t.createElement)(N,{icon:Ee,label:"Total Karyawan",value:v.total,color:"bg-blue-500"}),(0,t.createElement)(N,{icon:ra,label:"Karyawan Aktif",value:v.active,color:"bg-green-500"}),(0,t.createElement)(N,{icon:Ze,label:"Est. Gaji Bulanan",value:ke(v.expense),color:"bg-purple-500"})),(0,t.createElement)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-4 flex flex-col md:flex-row justify-between items-center gap-4"},(0,t.createElement)("div",{className:"w-full md:w-1/3"},(0,t.createElement)(Ie,{placeholder:"Cari nama atau posisi...",onSearch:e=>{y(e),n(1,r.limit,e)}})),(0,t.createElement)("button",{onClick:()=>f(),className:"btn-primary flex items-center gap-2"},(0,t.createElement)(He,{size:18})," Tambah Karyawan")),(0,t.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},(0,t.createElement)(Ae,{columns:x,data:a,loading:l,onEdit:f,onDelete:a=>(async a=>{if("administrator"!==e.role&&"owner"!==e.role)return ae.error("Hanya Admin/Owner yang bisa menghapus karyawan.");window.confirm("Yakin hapus data karyawan ini? Tindakan ini tidak bisa dibatalkan.")&&await i(a)})(a.id)}),(0,t.createElement)(Ke,{pagination:r,onPageChange:m,onLimitChange:o})),(0,t.createElement)(ze,{isOpen:d,onClose:()=>u(!1),title:b?"Edit Data Karyawan":"Tambah Karyawan Baru"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),(b?await c(p.id,p):await s(p))&&(u(!1),ae.success(b?"Data karyawan diperbarui":"Karyawan baru ditambahkan"),n())},className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"col-span-1 md:col-span-2"},(0,t.createElement)("label",{className:"label"},"Nama Lengkap"),(0,t.createElement)("input",{className:"input-field",value:p.name||"",onChange:e=>g({...p,name:e.target.value}),placeholder:"Contoh: Ahmad Fauzi",required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Email"),(0,t.createElement)("input",{type:"email",className:"input-field",value:p.email||"",onChange:e=>g({...p,email:e.target.value}),placeholder:"email@perusahaan.com"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"No. Telepon / WA"),(0,t.createElement)("input",{className:"input-field",value:p.phone||"",onChange:e=>g({...p,phone:e.target.value}),placeholder:"0812..."})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Posisi / Jabatan"),(0,t.createElement)("input",{className:"input-field",value:p.position||"",onChange:e=>g({...p,position:e.target.value}),placeholder:"Contoh: Staff Keuangan"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Tanggal Bergabung"),(0,t.createElement)("input",{type:"date",className:"input-field",value:p.joined_date||"",onChange:e=>g({...p,joined_date:e.target.value})})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Gaji Pokok (Rp)"),(0,t.createElement)("input",{type:"number",className:"input-field",value:p.salary||"",onChange:e=>g({...p,salary:e.target.value}),placeholder:"0"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Status Kepegawaian"),(0,t.createElement)("select",{className:"input-field",value:p.status||"active",onChange:e=>g({...p,status:e.target.value})},(0,t.createElement)("option",{value:"active"},"Aktif"),(0,t.createElement)("option",{value:"inactive"},"Tidak Aktif / Resign"),(0,t.createElement)("option",{value:"probation"},"Masa Percobaan"),(0,t.createElement)("option",{value:"leave"},"Cuti")))),(0,t.createElement)("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t border-gray-100"},(0,t.createElement)("button",{type:"button",onClick:()=>u(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary w-32"},"Simpan")))))},oa=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),da=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Le("umh/v1/hotels");(0,t.useEffect)(()=>{l()},[l]);const[c,i]=(0,t.useState)(!1),[m,o]=(0,t.useState)("create"),[d,u]=(0,t.useState)(null),p={name:"",city:"Makkah",rating:"5",distance_to_haram:0,map_url:""},[g,b]=(0,t.useState)(p),h=(e,a=null)=>{o(e),u(a),b(a||p),i(!0)},E=[{header:"Nama Hotel",accessor:"name",className:"font-bold"},{header:"Kota",accessor:"city"},{header:"Bintang",accessor:"rating",render:e=>(0,t.createElement)("div",{className:"flex text-yellow-500"},[...Array(Number(e.rating))].map((e,a)=>(0,t.createElement)("span",{key:a},"â˜…")))},{header:"Jarak (m)",accessor:"distance_to_haram",render:e=>e.distance_to_haram?`${e.distance_to_haram} m`:"-"},{header:"Map",accessor:"map_url",render:e=>e.map_url?(0,t.createElement)("a",{href:e.map_url,target:"_blank",className:"text-blue-600 hover:underline"},(0,t.createElement)(oa,{size:16})):"-"}];return(0,t.createElement)(he,{title:"Master Hotel"},(0,t.createElement)("div",{className:"mb-4 flex justify-end"},(0,t.createElement)("button",{onClick:()=>h("create"),className:"btn-primary flex gap-2"},(0,t.createElement)(He,{size:18})," Tambah Hotel")),(0,t.createElement)(Ae,{columns:E,data:e,loading:a,onEdit:e=>h("edit",e),onDelete:s}),(0,t.createElement)(ze,{isOpen:c,onClose:()=>i(!1),title:"create"===m?"Tambah Hotel":"Edit Hotel"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===m?await r(g):await n(d.id,g))&&i(!1)},className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,t.createElement)("div",{className:"col-span-2"},(0,t.createElement)("label",{className:"label"},"Nama Hotel"),(0,t.createElement)("input",{className:"input-field",value:g.name,onChange:e=>b({...g,name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kota Lokasi"),(0,t.createElement)("select",{className:"input-field",value:g.city,onChange:e=>b({...g,city:e.target.value})},(0,t.createElement)("option",{value:"Makkah"},"Makkah"),(0,t.createElement)("option",{value:"Madinah"},"Madinah"),(0,t.createElement)("option",{value:"Jeddah"},"Jeddah"),(0,t.createElement)("option",{value:"Istanbul"},"Istanbul"),(0,t.createElement)("option",{value:"Cairo"},"Cairo"),(0,t.createElement)("option",{value:"Dubai"},"Dubai"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Rating Bintang"),(0,t.createElement)("select",{className:"input-field",value:g.rating,onChange:e=>b({...g,rating:e.target.value})},(0,t.createElement)("option",{value:"5"},"5 Bintang"),(0,t.createElement)("option",{value:"4"},"4 Bintang"),(0,t.createElement)("option",{value:"3"},"3 Bintang"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Jarak ke Masjid (Meter)"),(0,t.createElement)("input",{type:"number",className:"input-field",value:g.distance_to_haram,onChange:e=>b({...g,distance_to_haram:e.target.value}),placeholder:"0"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Google Maps URL"),(0,t.createElement)("input",{type:"url",className:"input-field",value:g.map_url,onChange:e=>b({...g,map_url:e.target.value}),placeholder:"https://goo.gl/maps/..."}))),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},ua=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Le("umh/v1/flights");(0,t.useEffect)(()=>{l()},[l]);const[c,i]=(0,t.useState)(!1),[m,o]=(0,t.useState)("create"),[d,u]=(0,t.useState)(null),[p,g]=(0,t.useState)({name:"",iata_code:"",logo_url:""}),b=(e,a=null)=>{o(e),u(a),g(a||{name:"",iata_code:"",logo_url:""}),i(!0)},h=[{header:"Logo",accessor:"logo_url",render:e=>e.logo_url?(0,t.createElement)("img",{src:e.logo_url,alt:e.name,className:"h-8 w-8 object-contain rounded-full bg-gray-50 border"}):(0,t.createElement)("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center"},(0,t.createElement)(Je,{size:16,className:"text-gray-500"}))},{header:"Nama Maskapai",accessor:"name",className:"font-bold"},{header:"Kode IATA",accessor:"iata_code",render:e=>(0,t.createElement)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-mono"},e.iata_code||"-")}];return(0,t.createElement)(he,{title:"Master Maskapai Penerbangan"},(0,t.createElement)("div",{className:"mb-4 flex justify-end"},(0,t.createElement)("button",{onClick:()=>b("create"),className:"btn-primary flex gap-2"},(0,t.createElement)(He,{size:18})," Tambah Maskapai")),(0,t.createElement)(Ae,{columns:h,data:e,loading:a,onEdit:e=>b("edit",e),onDelete:s}),(0,t.createElement)(ze,{isOpen:c,onClose:()=>i(!1),title:"create"===m?"Tambah Maskapai":"Edit Maskapai"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===m?await r(p):await n(d.id,p))&&i(!1)},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama Maskapai"),(0,t.createElement)("input",{className:"input-field",value:p.name,onChange:e=>g({...p,name:e.target.value}),placeholder:"Contoh: Garuda Indonesia",required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Kode IATA"),(0,t.createElement)("input",{className:"input-field uppercase",maxLength:"3",value:p.iata_code,onChange:e=>g({...p,iata_code:e.target.value}),placeholder:"Contoh: GA"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"URL Logo (Opsional)"),(0,t.createElement)("input",{className:"input-field",value:p.logo_url,onChange:e=>g({...p,logo_url:e.target.value}),placeholder:"https://..."})),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},pa=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),ga=()=>{const[e,a]=(0,t.useState)("locations"),[l,r]=(0,t.useState)([]),[n,s]=(0,t.useState)(!1),[c,i]=(0,t.useState)(!1),[m,o]=(0,t.useState)({name:"",type:"",code:""}),[d,u]=(0,t.useState)("create"),[p,g]=(0,t.useState)(null),b=async()=>{s(!0);try{const a=`umh/v1/masters?type=${e}`,t=await re(a);r(Array.isArray(t)?t:[])}catch(e){console.error(e)}finally{s(!1)}};(0,t.useEffect)(()=>{b(),o({name:"",type:e,code:""})},[e]);const h=(a,t=null)=>{u(a),g(t),o(t||{name:"",type:e,code:""}),i(!0)},E=({id:l,label:r,icon:n})=>(0,t.createElement)("button",{onClick:()=>a(l),className:"flex items-center gap-2 px-4 py-2 border-b-2 font-medium text-sm transition-colors "+(e===l?"border-blue-600 text-blue-700":"border-transparent text-gray-500 hover:text-gray-700")},(0,t.createElement)(n,{size:16})," ",r);return(0,t.createElement)(he,{title:"Master Data & Referensi"},(0,t.createElement)("div",{className:"bg-white p-2 rounded-t-lg border-b border-gray-200 flex gap-2 mb-4 overflow-x-auto"},(0,t.createElement)(E,{id:"locations",label:"Lokasi & Kota",icon:oa}),(0,t.createElement)(E,{id:"jobs",label:"Pekerjaan",icon:ve}),(0,t.createElement)(E,{id:"banks",label:"Bank & Akun",icon:pa})),(0,t.createElement)("div",{className:"mb-4 flex justify-between items-center"},(0,t.createElement)("p",{className:"text-sm text-gray-500 capitalize"},"Mengelola data master ",e),(0,t.createElement)("button",{onClick:()=>h("create"),className:"btn-primary flex gap-2"},(0,t.createElement)(He,{size:18})," Tambah Data")),(0,t.createElement)(Ae,{columns:[{header:"Nama / Label",accessor:"name",className:"font-bold"},{header:"Kode / Keterangan",accessor:"code",render:e=>e.code||"-"}],data:l,loading:n,onEdit:e=>h("edit",e),onDelete:async e=>{if(window.confirm("Hapus data ini?"))try{await se(`umh/v1/masters/${e}`),ae.success("Data dihapus"),b()}catch(e){ae.error("Gagal menghapus")}}}),(0,t.createElement)(ze,{isOpen:c,onClose:()=>i(!1),title:`${"create"===d?"Tambah":"Edit"} ${"locations"===e?"Lokasi":"Data"}`},(0,t.createElement)("form",{onSubmit:async a=>{a.preventDefault();try{const a={...m,type:e};"create"===d?(await ne("umh/v1/masters",a),ae.success("Data berhasil ditambahkan")):(await ne(`umh/v1/masters/${p.id}`,a),ae.success("Data berhasil diupdate")),i(!1),b()}catch(e){ae.error(e.message||"Gagal menyimpan")}},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Nama ","locations"===e?"Kota/Negara":"Item"),(0,t.createElement)("input",{className:"input-field",value:m.name,onChange:e=>o({...m,name:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"locations"===e?"Kode Negara / Provinsi":"Kode / Keterangan Tambahan"),(0,t.createElement)("input",{className:"input-field",value:m.code,onChange:e=>o({...m,code:e.target.value}),placeholder:"banks"===e?"No. Rekening":"Opsional"})),(0,t.createElement)("input",{type:"hidden",value:e}),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan")))))},ba=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),ha=()=>{const{data:e,loading:a,fetchData:l,createItem:r,updateItem:n,deleteItem:s}=Le("umh/v1/users");(0,t.useEffect)(()=>{l()},[l]);const[c,i]=(0,t.useState)(!1),[m,o]=(0,t.useState)("create"),[d,u]=(0,t.useState)(null),p={username:"",email:"",role:"admin_staff",password:""},[g,b]=(0,t.useState)(p),h=(e,a=null)=>{o(e),u(a),b(a?{...a,password:""}:p),i(!0)},E=[{header:"Username",accessor:"username",render:e=>(0,t.createElement)("div",{className:"flex items-center gap-2 font-bold text-gray-800"},(0,t.createElement)("div",{className:"p-1 bg-gray-100 rounded-full"},(0,t.createElement)(Re,{size:14}))," ",e.username)},{header:"Email",accessor:"email"},{header:"Role Akses",accessor:"role",render:e=>(0,t.createElement)("span",{className:"badge uppercase text-xs flex items-center gap-1 w-fit\n                "+("super_admin"===e.role?"bg-purple-100 text-purple-800":"finance_staff"===e.role?"bg-green-100 text-green-800":"bg-blue-50 text-blue-800")},(0,t.createElement)(ba,{size:10})," ",e.role.replace("_"," "))}];return(0,t.createElement)(he,{title:"Manajemen Pengguna Sistem"},(0,t.createElement)("div",{className:"flex justify-end mb-4"},(0,t.createElement)("button",{onClick:()=>h("create"),className:"btn-primary flex gap-2"},(0,t.createElement)(He,{size:18})," Tambah User Staff")),(0,t.createElement)(Ae,{columns:E,data:e,loading:a,onEdit:e=>h("edit",e),onDelete:s}),(0,t.createElement)(ze,{isOpen:c,onClose:()=>i(!1),title:"create"===m?"Tambah User Baru":"Edit User"},(0,t.createElement)("form",{onSubmit:async e=>{e.preventDefault(),("create"===m?await r(g):await n(d.id,g))&&i(!1)},className:"space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Username"),(0,t.createElement)("input",{className:"input-field",value:g.username,onChange:e=>b({...g,username:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Email Login"),(0,t.createElement)("input",{type:"email",className:"input-field",value:g.email,onChange:e=>b({...g,email:e.target.value}),required:!0})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"label"},"Role (Hak Akses)"),(0,t.createElement)("select",{className:"input-field",value:g.role,onChange:e=>b({...g,role:e.target.value})},(0,t.createElement)("option",{value:"admin_staff"},"Admin Staff (Umum)"),(0,t.createElement)("option",{value:"finance_staff"},"Finance (Keuangan)"),(0,t.createElement)("option",{value:"marketing_staff"},"Marketing (Penjualan)"),(0,t.createElement)("option",{value:"hr_staff"},"HR (Karyawan)"),(0,t.createElement)("option",{value:"administrator"},"Administrator (Manajer)"),(0,t.createElement)("option",{value:"super_admin"},"Super Admin (IT/Owner)"))),(0,t.createElement)("div",{className:"pt-2 border-t border-gray-100 mt-2"},(0,t.createElement)("label",{className:"label"},"edit"===m?"Password Baru (Kosongkan jika tidak ubah)":"Password"),(0,t.createElement)("input",{type:"password",className:"input-field",value:g.password,onChange:e=>b({...g,password:e.target.value}),placeholder:"******",required:"create"===m})),(0,t.createElement)("div",{className:"flex justify-end gap-2 pt-4 border-t"},(0,t.createElement)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary"},"Batal"),(0,t.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan User")))))},Ea=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ya=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),va=ue("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),fa=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),xa=()=>{const[e,a]=(0,t.useState)({company_name:"Travel Umroh Berkah",currency_symbol:"Rp",currency_code:"IDR",email_notifications:!0,whatsapp_notifications:!0,default_departure_city:"Jakarta",maintenance_mode:!1}),l=(e,t)=>{a(a=>({...a,[e]:t}))};return(0,t.createElement)(he,{title:"Pengaturan Sistem"},(0,t.createElement)("div",{className:"max-w-4xl mx-auto"},(0,t.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,t.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,t.createElement)(Ea,{className:"text-blue-600",size:20}),(0,t.createElement)("h3",{className:"font-bold text-gray-800"},"Umum")),(0,t.createElement)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Nama Perusahaan Travel"),(0,t.createElement)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:e.company_name,onChange:e=>l("company_name",e.target.value)}),(0,t.createElement)("p",{className:"text-xs text-gray-400 mt-1"},"Akan muncul di invoice dan header laporan.")),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Kota Keberangkatan Default"),(0,t.createElement)("input",{type:"text",className:"w-full px-3 py-2 border rounded-md",value:e.default_departure_city,onChange:e=>l("default_departure_city",e.target.value)})))),(0,t.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,t.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,t.createElement)(Ze,{className:"text-green-600",size:20}),(0,t.createElement)("h3",{className:"font-bold text-gray-800"},"Keuangan")),(0,t.createElement)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Simbol Mata Uang"),(0,t.createElement)("input",{type:"text",className:"w-24 px-3 py-2 border rounded-md",value:e.currency_symbol,onChange:e=>l("currency_symbol",e.target.value)})),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Kode Mata Uang (ISO)"),(0,t.createElement)("input",{type:"text",className:"w-24 px-3 py-2 border rounded-md",value:e.currency_code,onChange:e=>l("currency_code",e.target.value)})))),(0,t.createElement)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6"},(0,t.createElement)("div",{className:"p-4 border-b border-gray-100 bg-gray-50 flex items-center gap-2"},(0,t.createElement)(ya,{className:"text-orange-600",size:20}),(0,t.createElement)("h3",{className:"font-bold text-gray-800"},"Notifikasi")),(0,t.createElement)("div",{className:"p-6 space-y-4"},(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("div",null,(0,t.createElement)("h4",{className:"font-semibold text-gray-700"},"Notifikasi Email"),(0,t.createElement)("p",{className:"text-xs text-gray-500"},"Kirim email saat ada pendaftaran jamaah baru.")),(0,t.createElement)("label",{className:"relative inline-flex items-center cursor-pointer"},(0,t.createElement)("input",{type:"checkbox",className:"sr-only peer",checked:e.email_notifications,onChange:e=>l("email_notifications",e.target.checked)}),(0,t.createElement)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}))),(0,t.createElement)("hr",null),(0,t.createElement)("div",{className:"flex items-center justify-between"},(0,t.createElement)("div",null,(0,t.createElement)("h4",{className:"font-semibold text-gray-700 flex items-center gap-2"},(0,t.createElement)(va,{size:14})," Notifikasi WhatsApp"),(0,t.createElement)("p",{className:"text-xs text-gray-500"},"Integrasi WA Gateway untuk notifikasi tagihan.")),(0,t.createElement)("label",{className:"relative inline-flex items-center cursor-pointer"},(0,t.createElement)("input",{type:"checkbox",className:"sr-only peer",checked:e.whatsapp_notifications,onChange:e=>l("whatsapp_notifications",e.target.checked)}),(0,t.createElement)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}))))),(0,t.createElement)("div",{className:"flex justify-end pb-10"},(0,t.createElement)("button",{onClick:()=>{A.success("Pengaturan berhasil disimpan!")},className:"bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg hover:bg-blue-700 flex items-center gap-2 transform hover:-translate-y-1 transition-all"},(0,t.createElement)(fa,{size:20})," Simpan Semua Pengaturan"))))},Na=()=>{const e=localStorage.getItem("umh_active_page"),[a,l]=(0,t.useState)(e||"dashboard"),r=e=>{l(e),localStorage.setItem("umh_active_page",e)};return(0,t.useEffect)(()=>{window.umhNavigate=r,window.umhActivePage=a},[a]),(0,t.createElement)(oe,null,(0,t.createElement)("div",{className:"umh-app-container bg-gray-50 min-h-screen text-gray-800 font-sans"},(0,t.createElement)(ee,{position:"top-right",toastOptions:{duration:3e3}}),(()=>{switch(a){case"dashboard":default:return(0,t.createElement)(we,null);case"jamaah":return(0,t.createElement)(Ue,null);case"packages":return(0,t.createElement)(Xe,null);case"departures":return(0,t.createElement)(Qe,null);case"finance":return(0,t.createElement)(ea,null);case"marketing":return(0,t.createElement)(la,null);case"agents":return(0,t.createElement)(na,null);case"tasks":return(0,t.createElement)(sa,null);case"logistics":return(0,t.createElement)(ia,null);case"hr":return(0,t.createElement)(ma,null);case"hotels":return(0,t.createElement)(da,null);case"flights":return(0,t.createElement)(ua,null);case"masters":return(0,t.createElement)(ga,null);case"users":return(0,t.createElement)(ha,null);case"settings":return(0,t.createElement)(xa,null)}})()))},ka=document.getElementById("umroh-manager-app");ka&&(0,l.H)(ka).render((0,t.createElement)(Na,null))})();