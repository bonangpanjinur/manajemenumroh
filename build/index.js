(()=>{"use strict";var e={338:(e,a,t)=>{var l=t(795);a.H=l.createRoot,l.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var r=a[l]={exports:{}};return e[l](r,r.exports,t),r.exports}const l=window.React;var n,r=t(338),s=t(795);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const o="popstate";function c(e,a){if(!1===e||null==e)throw new Error(a)}function m(e,a){if(!e){"undefined"!=typeof console&&console.warn(a);try{throw new Error(a)}catch(e){}}}function d(e,a){return{usr:e.state,key:e.key,idx:a}}function u(e,a,t,l){return void 0===t&&(t=null),i({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof a?h(a):a,{state:t,key:a&&a.key||l||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:a="/",search:t="",hash:l=""}=e;return t&&"?"!==t&&(a+="?"===t.charAt(0)?t:"?"+t),l&&"#"!==l&&(a+="#"===l.charAt(0)?l:"#"+l),a}function h(e){let a={};if(e){let t=e.indexOf("#");t>=0&&(a.hash=e.substr(t),e=e.substr(0,t));let l=e.indexOf("?");l>=0&&(a.search=e.substr(l),e=e.substr(0,l)),e&&(a.pathname=e)}return a}var b;function g(e,a,t){return void 0===t&&(t="/"),function(e,a,t,l){let n=D(("string"==typeof a?h(a):a).pathname||"/",t);if(null==n)return null;let r=y(e);!function(e){e.sort((e,a)=>e.score!==a.score?a.score-e.score:function(e,a){let t=e.length===a.length&&e.slice(0,-1).every((e,t)=>e===a[t]);return t?e[e.length-1]-a[a.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),a.routesMeta.map(e=>e.childrenIndex)))}(r);let s=null;for(let e=0;null==s&&e<r.length;++e){let a=A(n);s=P(r[e],a,l)}return s}(e,a,t,!1)}function y(e,a,t,l){void 0===a&&(a=[]),void 0===t&&(t=[]),void 0===l&&(l="");let n=(e,n,r)=>{let s={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(l),'Absolute route path "'+s.relativePath+'" nested under path "'+l+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(l.length));let i=j([l,s.relativePath]),o=t.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),y(e.children,a,o,i)),(null!=e.path||e.index)&&a.push({path:i,score:S(i,e.index),routesMeta:o})};return e.forEach((e,a)=>{var t;if(""!==e.path&&null!=(t=e.path)&&t.includes("?"))for(let t of f(e.path))n(e,a,t);else n(e,a)}),a}function f(e){let a=e.split("/");if(0===a.length)return[];let[t,...l]=a,n=t.endsWith("?"),r=t.replace(/\?$/,"");if(0===l.length)return n?[r,""]:[r];let s=f(l.join("/")),i=[];return i.push(...s.map(e=>""===e?r:[r,e].join("/"))),n&&i.push(...s),i.map(a=>e.startsWith("/")&&""===a?"/":a)}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const v=/^:[\w-]+$/,x=3,E=2,k=1,w=10,N=-2,_=e=>"*"===e;function S(e,a){let t=e.split("/"),l=t.length;return t.some(_)&&(l+=N),a&&(l+=E),t.filter(e=>!_(e)).reduce((e,a)=>e+(v.test(a)?x:""===a?k:w),l)}function P(e,a,t){void 0===t&&(t=!1);let{routesMeta:l}=e,n={},r="/",s=[];for(let e=0;e<l.length;++e){let i=l[e],o=e===l.length-1,c="/"===r?a:a.slice(r.length)||"/",m=C({path:i.relativePath,caseSensitive:i.caseSensitive,end:o},c),d=i.route;if(!m&&o&&t&&!l[l.length-1].route.index&&(m=C({path:i.relativePath,caseSensitive:i.caseSensitive,end:!1},c)),!m)return null;Object.assign(n,m.params),s.push({params:n,pathname:j([r,m.pathname]),pathnameBase:I(j([r,m.pathnameBase])),route:d}),"/"!==m.pathnameBase&&(r=j([r,m.pathnameBase]))}return s}function C(e,a){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[t,l]=function(e,a,t){void 0===a&&(a=!1),void 0===t&&(t=!0),m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let l=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,a,t)=>(l.push({paramName:a,isOptional:null!=t}),t?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(l.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,a?void 0:"i"),l]}(e.path,e.caseSensitive,e.end),n=a.match(t);if(!n)return null;let r=n[0],s=r.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:l.reduce((e,a,t)=>{let{paramName:l,isOptional:n}=a;if("*"===l){let e=i[t]||"";s=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[t];return e[l]=n&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:r,pathnameBase:s,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(a){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+a+")."),e}}function D(e,a){if("/"===a)return e;if(!e.toLowerCase().startsWith(a.toLowerCase()))return null;let t=a.endsWith("/")?a.length-1:a.length,l=e.charAt(t);return l&&"/"!==l?null:e.slice(t)||"/"}const T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function M(e,a){let t=a.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?t.length>1&&t.pop():"."!==e&&t.push(e)}),t.length>1?t.join("/"):"/"}function B(e,a,t,l){return"Cannot include a '"+e+"' character in a manually specified `to."+a+"` field ["+JSON.stringify(l)+"].  Please separate it out to the `to."+t+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e,a){let t=function(e){return e.filter((e,a)=>0===a||e.route.path&&e.route.path.length>0)}(e);return a?t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase):t.map(e=>e.pathnameBase)}function R(e,a,t,l){let n;void 0===l&&(l=!1),"string"==typeof e?n=h(e):(n=i({},e),c(!n.pathname||!n.pathname.includes("?"),B("?","pathname","search",n)),c(!n.pathname||!n.pathname.includes("#"),B("#","pathname","hash",n)),c(!n.search||!n.search.includes("#"),B("#","search","hash",n)));let r,s=""===e||""===n.pathname,o=s?"/":n.pathname;if(null==o)r=t;else{let e=a.length-1;if(!l&&o.startsWith("..")){let a=o.split("/");for(;".."===a[0];)a.shift(),e-=1;n.pathname=a.join("/")}r=e>=0?a[e]:"/"}let d=function(e,a){void 0===a&&(a="/");let t,{pathname:l,search:n="",hash:r=""}="string"==typeof e?h(e):e;if(l)if(s=l,T.test(s))t=l;else{if(l.includes("//")){let e=l;l=l.replace(/\/\/+/g,"/"),m(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+l)}t=l.startsWith("/")?M(l.substring(1),"/"):M(l,a)}else t=a;var s;return{pathname:t,search:K(n),hash:q(r)}}(n,r),u=o&&"/"!==o&&o.endsWith("/"),p=(s||"."===o)&&t.endsWith("/");return d.pathname.endsWith("/")||!u&&!p||(d.pathname+="/"),d}const j=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const U=["post","put","patch","delete"],$=(new Set(U),["get",...U]);function H(){return H=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},H.apply(this,arguments)}new Set($),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const z=l.createContext(null),O=l.createContext(null),F=l.createContext(null),J=l.createContext(null),W=l.createContext({outlet:null,matches:[],isDataRoute:!1}),V=l.createContext(null);function G(){return null!=l.useContext(J)}function X(){return G()||c(!1),l.useContext(J).location}function Z(e){l.useContext(F).static||l.useLayoutEffect(e)}function Q(){let{isDataRoute:e}=l.useContext(W);return e?function(){let{router:e}=function(){let e=l.useContext(z);return e||c(!1),e}(re.UseNavigateStable),a=ie(se.UseNavigateStable),t=l.useRef(!1);return Z(()=>{t.current=!0}),l.useCallback(function(l,n){void 0===n&&(n={}),t.current&&("number"==typeof l?e.navigate(l):e.navigate(l,H({fromRouteId:a},n)))},[e,a])}():function(){G()||c(!1);let e=l.useContext(z),{basename:a,future:t,navigator:n}=l.useContext(F),{matches:r}=l.useContext(W),{pathname:s}=X(),i=JSON.stringify(L(r,t.v7_relativeSplatPath)),o=l.useRef(!1);return Z(()=>{o.current=!0}),l.useCallback(function(t,l){if(void 0===l&&(l={}),!o.current)return;if("number"==typeof t)return void n.go(t);let r=R(t,JSON.parse(i),s,"path"===l.relative);null==e&&"/"!==a&&(r.pathname="/"===r.pathname?a:j([a,r.pathname])),(l.replace?n.replace:n.push)(r,l.state,l)},[a,n,i,s,e])}()}function Y(e,a){let{relative:t}=void 0===a?{}:a,{future:n}=l.useContext(F),{matches:r}=l.useContext(W),{pathname:s}=X(),i=JSON.stringify(L(r,n.v7_relativeSplatPath));return l.useMemo(()=>R(e,JSON.parse(i),s,"path"===t),[e,i,s,t])}function ee(e,a,t,r){G()||c(!1);let{navigator:s}=l.useContext(F),{matches:i}=l.useContext(W),o=i[i.length-1],m=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,p=X();if(a){var b;let e="string"==typeof a?h(a):a;"/"===d||(null==(b=e.pathname)?void 0:b.startsWith(d))||c(!1),u=e}else u=p;let y=u.pathname||"/",f=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");f="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=g(e,{pathname:f}),x=function(e,a,t,n){var r;if(void 0===a&&(a=[]),void 0===t&&(t=null),void 0===n&&(n=null),null==e){var s;if(!t)return null;if(t.errors)e=t.matches;else{if(!(null!=(s=n)&&s.v7_partialHydration&&0===a.length&&!t.initialized&&t.matches.length>0))return null;e=t.matches}}let i=e,o=null==(r=t)?void 0:r.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||c(!1),i=i.slice(0,Math.min(i.length,e+1))}let m=!1,d=-1;if(t&&n&&n.v7_partialHydration)for(let e=0;e<i.length;e++){let a=i[e];if((a.route.HydrateFallback||a.route.hydrateFallbackElement)&&(d=e),a.route.id){let{loaderData:e,errors:l}=t,n=a.route.loader&&void 0===e[a.route.id]&&(!l||void 0===l[a.route.id]);if(a.route.lazy||n){m=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight((e,n,r)=>{let s,c=!1,u=null,p=null;var h;t&&(s=o&&n.route.id?o[n.route.id]:void 0,u=n.route.errorElement||te,m&&(d<0&&0===r?(oe[h="route-fallback"]||(oe[h]=!0),c=!0,p=null):d===r&&(c=!0,p=n.route.hydrateFallbackElement||null)));let b=a.concat(i.slice(0,r+1)),g=()=>{let a;return a=s?u:c?p:n.route.Component?l.createElement(n.route.Component,null):n.route.element?n.route.element:e,l.createElement(ne,{match:n,routeContext:{outlet:e,matches:b,isDataRoute:null!=t},children:a})};return t&&(n.route.ErrorBoundary||n.route.errorElement||0===r)?l.createElement(le,{location:t.location,revalidation:t.revalidation,component:u,error:s,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},m,e.params),pathname:j([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:j([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,t,r);return a&&x?l.createElement(J.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:n.Pop}},x):x}function ae(){let e=function(){var e;let a=l.useContext(V),t=function(){let e=l.useContext(O);return e||c(!1),e}(se.UseRouteError),n=ie(se.UseRouteError);return void 0!==a?a:null==(e=t.errors)?void 0:e[n]}(),a=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},a),t?l.createElement("pre",{style:n},t):null,null)}const te=l.createElement(ae,null);class le extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||"idle"!==a.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){console.error("React Router caught the following error during render",e,a)}render(){return void 0!==this.state.error?l.createElement(W.Provider,{value:this.props.routeContext},l.createElement(V.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ne(e){let{routeContext:a,match:t,children:n}=e,r=l.useContext(z);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),l.createElement(W.Provider,{value:a},n)}var re=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(re||{}),se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(se||{});function ie(e){let a=function(){let e=l.useContext(W);return e||c(!1),e}(),t=a.matches[a.matches.length-1];return t.route.id||c(!1),t.route.id}const oe={};function ce(e){c(!1)}function me(e){let{basename:a="/",children:t=null,location:r,navigationType:s=n.Pop,navigator:i,static:o=!1,future:m}=e;G()&&c(!1);let d=a.replace(/^\/*/,"/"),u=l.useMemo(()=>({basename:d,navigator:i,static:o,future:H({v7_relativeSplatPath:!1},m)}),[d,m,i,o]);"string"==typeof r&&(r=h(r));let{pathname:p="/",search:b="",hash:g="",state:y=null,key:f="default"}=r,v=l.useMemo(()=>{let e=D(p,d);return null==e?null:{location:{pathname:e,search:b,hash:g,state:y,key:f},navigationType:s}},[d,p,b,g,y,f,s]);return null==v?null:l.createElement(F.Provider,{value:u},l.createElement(J.Provider,{children:t,value:v}))}function de(e){let{children:a,location:t}=e;return ee(ue(a),t)}function ue(e,a){void 0===a&&(a=[]);let t=[];return l.Children.forEach(e,(e,n)=>{if(!l.isValidElement(e))return;let r=[...a,n];if(e.type===l.Fragment)return void t.push.apply(t,ue(e.props.children,r));e.type!==ce&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ue(e.props.children,r)),t.push(s)}),t}function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},pe.apply(this,arguments)}function he(e,a){if(null==e)return{};var t,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)t=r[l],a.indexOf(t)>=0||(n[t]=e[t]);return n}l.startTransition,new Promise(()=>{}),l.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ge=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(va){}const ye=l.createContext({isTransitioning:!1});new Map;const fe=l.startTransition;function ve(e){let{basename:a,children:t,future:r,window:s}=e,b=l.useRef();var g;null==b.current&&(b.current=(void 0===(g={window:s,v5Compat:!0})&&(g={}),function(e,a,t,l){void 0===l&&(l={});let{window:r=document.defaultView,v5Compat:s=!1}=l,m=r.history,h=n.Pop,b=null,g=y();function y(){return(m.state||{idx:null}).idx}function f(){h=n.Pop;let e=y(),a=null==e?null:e-g;g=e,b&&b({action:h,location:x.location,delta:a})}function v(e){let a="null"!==r.location.origin?r.location.origin:r.location.href,t="string"==typeof e?e:p(e);return t=t.replace(/ $/,"%20"),c(a,"No window.location.(origin|href) available to create URL for href: "+t),new URL(t,a)}null==g&&(g=0,m.replaceState(i({},m.state,{idx:g}),""));let x={get action(){return h},get location(){return e(r,m)},listen(e){if(b)throw new Error("A history only accepts one active listener");return r.addEventListener(o,f),b=e,()=>{r.removeEventListener(o,f),b=null}},createHref:e=>a(r,e),createURL:v,encodeLocation(e){let a=v(e);return{pathname:a.pathname,search:a.search,hash:a.hash}},push:function(e,a){h=n.Push;let l=u(x.location,e,a);t&&t(l,e),g=y()+1;let i=d(l,g),o=x.createHref(l);try{m.pushState(i,"",o)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;r.location.assign(o)}s&&b&&b({action:h,location:x.location,delta:1})},replace:function(e,a){h=n.Replace;let l=u(x.location,e,a);t&&t(l,e),g=y();let r=d(l,g),i=x.createHref(l);m.replaceState(r,"",i),s&&b&&b({action:h,location:x.location,delta:0})},go:e=>m.go(e)};return x}(function(e,a){let{pathname:t="/",search:l="",hash:n=""}=h(e.location.hash.substr(1));return t.startsWith("/")||t.startsWith(".")||(t="/"+t),u("",{pathname:t,search:l,hash:n},a.state&&a.state.usr||null,a.state&&a.state.key||"default")},function(e,a){let t=e.document.querySelector("base"),l="";if(t&&t.getAttribute("href")){let a=e.location.href,t=a.indexOf("#");l=-1===t?a:a.slice(0,t)}return l+"#"+("string"==typeof a?a:p(a))},function(e,a){m("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")},g)));let y=b.current,[f,v]=l.useState({action:y.action,location:y.location}),{v7_startTransition:x}=r||{},E=l.useCallback(e=>{x&&fe?fe(()=>v(e)):v(e)},[v,x]);return l.useLayoutEffect(()=>y.listen(E),[y,E]),l.useEffect(()=>{return null==(e=r)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!a||a.v7_relativeSplatPath),void(a&&(a.v7_fetcherPersist,a.v7_normalizeFormMethod,a.v7_partialHydration,a.v7_skipActionErrorRevalidation));var e,a},[r]),l.createElement(me,{basename:a,children:t,location:f.location,navigationType:f.action,navigator:y,future:r})}s.flushSync,l.useId;const xe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=l.forwardRef(function(e,a){let t,{onClick:n,relative:r,reloadDocument:s,replace:i,state:o,target:m,to:d,preventScrollReset:u,viewTransition:h}=e,b=he(e,be),{basename:g}=l.useContext(F),y=!1;if("string"==typeof d&&Ee.test(d)&&(t=d,xe))try{let e=new URL(window.location.href),a=d.startsWith("//")?new URL(e.protocol+d):new URL(d),t=D(a.pathname,g);a.origin===e.origin&&null!=t?d=t+a.search+a.hash:y=!0}catch(e){}let f=function(e,a){let{relative:t}=void 0===a?{}:a;G()||c(!1);let{basename:n,navigator:r}=l.useContext(F),{hash:s,pathname:i,search:o}=Y(e,{relative:t}),m=i;return"/"!==n&&(m="/"===i?n:j([n,i])),r.createHref({pathname:m,search:o,hash:s})}(d,{relative:r}),v=function(e,a){let{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}=void 0===a?{}:a,c=Q(),m=X(),d=Y(e,{relative:i});return l.useCallback(a=>{if(function(e,a){return!(0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(a,t)){a.preventDefault();let t=void 0!==n?n:p(m)===p(d);c(e,{replace:t,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[m,c,d,n,r,t,e,s,i,o])}(d,{replace:i,state:o,target:m,preventScrollReset:u,relative:r,viewTransition:h});return l.createElement("a",pe({},b,{href:t||f,onClick:y||s?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:a,target:m}))}),we=l.forwardRef(function(e,a){let{"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:m,children:d}=e,u=he(e,ge),p=Y(o,{relative:u.relative}),h=X(),b=l.useContext(O),{navigator:g,basename:y}=l.useContext(F),f=null!=b&&function(e,a){void 0===a&&(a={});let t=l.useContext(ye);null==t&&c(!1);let{basename:n}=function(){let e=l.useContext(z);return e||c(!1),e}(Ne.useViewTransitionState),r=Y(e,{relative:a.relative});if(!t.isTransitioning)return!1;let s=D(t.currentLocation.pathname,n)||t.currentLocation.pathname,i=D(t.nextLocation.pathname,n)||t.nextLocation.pathname;return null!=C(r.pathname,i)||null!=C(r.pathname,s)}(p)&&!0===m,v=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,x=h.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(x=x.toLowerCase(),E=E?E.toLowerCase():null,v=v.toLowerCase()),E&&y&&(E=D(E,y)||E);const k="/"!==v&&v.endsWith("/")?v.length-1:v.length;let w,N=x===v||!s&&x.startsWith(v)&&"/"===x.charAt(k),_=null!=E&&(E===v||!s&&E.startsWith(v)&&"/"===E.charAt(v.length)),S={isActive:N,isPending:_,isTransitioning:f},P=N?t:void 0;w="function"==typeof r?r(S):[r,N?"active":null,_?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let A="function"==typeof i?i(S):i;return l.createElement(ke,pe({},u,{"aria-current":P,className:w,ref:a,style:A,to:o,viewTransition:m}),"function"==typeof d?d(S):d)});var Ne,_e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ne||(Ne={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_e||(_e={}));var Se={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pe=(e,a)=>{const t=(0,l.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:o,...c},m)=>{return(0,l.createElement)("svg",{ref:m,...Se,width:n,height:n,stroke:t,strokeWidth:s?24*Number(r)/Number(n):r,className:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,i].join(" "),...c},[...a.map(([e,a])=>(0,l.createElement)(e,a)),...Array.isArray(o)?o:[o]]);var d});return t.displayName=`${e}`,t},Ce=Pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Ae=Pe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),De=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Te=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Me=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Be=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Le=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Re=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),je=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ie=Pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ke=Pe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),qe=Pe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),Ue=Pe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),$e=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),He=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ze=[{path:"/",label:"Dashboard",icon:Ce},{section:"Produk & Layanan"},{path:"/packages",label:"Paket Umrah",icon:Ae},{path:"/departures",label:"Jadwal Keberangkatan",icon:De},{path:"/private-umrah",label:"Private / Custom",icon:Te},{path:"/badal",label:"Badal Umrah",icon:Me},{section:"Transaksi"},{path:"/bookings",label:"Data Booking",icon:Be},{path:"/savings",label:"Tabungan Umrah",icon:Le},{path:"/finance",label:"Keuangan",icon:Re},{section:"Operasional"},{path:"/jamaah",label:"Data Jamaah",icon:je},{path:"/mutawwif",label:"Mutawwif",icon:Ie},{path:"/manasik",label:"Manasik",icon:Ke},{path:"/logistics",label:"Logistik",icon:qe},{section:"Lainnya"},{path:"/marketing",label:"Marketing",icon:Ue},{path:"/agents",label:"Keagenan",icon:je},{path:"/hr",label:"SDM / HR",icon:je},{path:"/support",label:"Support & Tiket",icon:$e},{path:"/masters",label:"Data Master",icon:He},{path:"/settings",label:"Pengaturan",icon:He}],Oe=Pe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Fe=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Je=()=>(0,l.createElement)("div",{className:"w-64 bg-white h-screen border-r border-gray-200 flex flex-col fixed left-0 top-0 overflow-y-auto z-50"},(0,l.createElement)("div",{className:"p-6 flex items-center gap-3 border-b border-gray-100"},(0,l.createElement)("div",{className:"bg-blue-600 text-white p-2 rounded-lg shadow-md"},(0,l.createElement)(Oe,{size:24})),(0,l.createElement)("div",null,(0,l.createElement)("h1",{className:"font-bold text-lg text-gray-800 leading-tight"},"UMH Travel"),(0,l.createElement)("p",{className:"text-xs text-gray-500 font-medium"},"Enterprise System v4.0"))),(0,l.createElement)("nav",{className:"flex-1 p-4 space-y-6 overflow-y-auto custom-scrollbar"},ze.map((e,a)=>(0,l.createElement)("div",{key:a},(0,l.createElement)("h3",{className:"px-3 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2"},e.category),(0,l.createElement)("div",{className:"space-y-1"},e.items.map(e=>(0,l.createElement)(we,{key:e.path,to:e.path,className:({isActive:e})=>"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 "+(e?"bg-blue-50 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900")},(0,l.createElement)(e.icon,{size:18,className:({isActive:e})=>e?"text-blue-600":"text-gray-400"}),e.label)))))),(0,l.createElement)("div",{className:"p-4 border-t border-gray-100 bg-gray-50"},(0,l.createElement)("div",{className:"flex items-center justify-between"},(0,l.createElement)("div",{className:"flex items-center gap-2"},(0,l.createElement)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-xs shadow-sm"},"AD"),(0,l.createElement)("div",{className:"text-xs"},(0,l.createElement)("div",{className:"font-bold text-gray-700 truncate w-24"},"Administrator"),(0,l.createElement)("div",{className:"text-gray-500"},"Super Admin"))),(0,l.createElement)("button",{onClick:()=>window.location.href=window.umh_vars?.site_url+"/wp-login.php?action=logout",className:"text-gray-400 hover:text-red-600 transition p-1 rounded-md hover:bg-red-50",title:"Logout"},(0,l.createElement)(Fe,{size:18}))))),We=({children:e,title:a,actions:t})=>(0,l.createElement)("div",{className:"flex min-h-screen bg-gray-50 font-sans text-gray-900"},(0,l.createElement)(Je,null),(0,l.createElement)("main",{className:"flex-1 ml-64 flex flex-col min-h-screen transition-all duration-300 ease-in-out"},(0,l.createElement)("header",{className:"bg-white border-b border-gray-200 px-8 py-5 flex justify-between items-center sticky top-0 z-40 shadow-sm"},(0,l.createElement)("div",null,(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},a)),(0,l.createElement)("div",{className:"flex items-center gap-3"},t)),(0,l.createElement)("div",{className:"p-8 flex-1 overflow-x-hidden"},(0,l.createElement)("div",{className:"max-w-7xl mx-auto"},e)))),Ve=(0,l.createContext)(),Ge=({children:e})=>{const[a,t]=(0,l.useState)(null),[n,r]=(0,l.useState)({}),s={currentUser:a,setCurrentUser:t,appConfig:n,setAppConfig:r};return(0,l.createElement)(Ve.Provider,{value:s},e)};async function Xe(e,a={}){const t={"Content-Type":"application/json","X-WP-Nonce":window.umh_settings?.nonce||window.wpApiSettings?.nonce||"",...a.headers},l={...a,headers:t};try{const a=await fetch(`/wp-json/umh/v1${e}`,l);if(!a.ok){const e=await a.json().catch(()=>({}));throw new Error(e.message||a.statusText||"API Request Failed")}return await a.json()}catch(e){throw console.error("API Error:",e),e}}const Ze={get:e=>Xe(e,{method:"GET"}),post:(e,a)=>Xe(e,{method:"POST",body:JSON.stringify(a)}),put:(e,a)=>Xe(e,{method:"PUT",body:JSON.stringify(a)}),delete:e=>Xe(e,{method:"DELETE"})},Qe=Ze,Ye=(e,a="IDR")=>{e||(e=0);const t=parseFloat(e);return"USD"===a?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(t):new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)},ea=(e,a=!1)=>{if(!e)return"-";const t=new Date(e);if(isNaN(t.getTime()))return e;const l={year:"numeric",month:"long",day:"numeric"};return a&&(l.hour="2-digit",l.minute="2-digit"),t.toLocaleDateString("id-ID",l)},aa=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ta=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),la=({title:e,value:a,subtext:t,icon:n,color:r})=>(0,l.createElement)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-start justify-between"},(0,l.createElement)("div",null,(0,l.createElement)("p",{className:"text-gray-500 text-sm font-medium"},e),(0,l.createElement)("h3",{className:"text-2xl font-bold mt-1 text-gray-800"},a),t&&(0,l.createElement)("p",{className:`text-xs mt-2 ${r.text}`},t)),(0,l.createElement)("div",{className:`p-3 rounded-full ${r.bg}`},(0,l.createElement)(n,{className:`w-6 h-6 ${r.icon}`}))),na=()=>{const[e,a]=(0,l.useState)({total_savings:0,active_bookings:0,private_requests:0,upcoming_departures:0}),[t,n]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(async()=>{try{const e=await Ze.get("/stats/summary"),t=await Ze.get("/private/requests");e&&a(e),t&&Array.isArray(t)&&n(t.slice(0,5))}catch(e){console.error("Dashboard load failed",e)}})()},[]),(0,l.createElement)("div",{className:"space-y-6"},(0,l.createElement)("div",{className:"flex justify-between items-end"},(0,l.createElement)("div",null,(0,l.createElement)("h1",{className:"text-2xl font-bold text-gray-800"},"Dashboard Overview"),(0,l.createElement)("p",{className:"text-gray-500 text-sm mt-1"},"Ringkasan aktivitas travel hari ini.")),(0,l.createElement)("div",{className:"text-sm text-gray-500 bg-white px-3 py-1 rounded shadow-sm"},(new Date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},(0,l.createElement)(la,{title:"Total Booking Aktif",value:e.active_bookings||0,subtext:"Jamaah siap berangkat",icon:je,color:{bg:"bg-blue-100",icon:"text-blue-600",text:"text-blue-600"}}),(0,l.createElement)(la,{title:"Dana Tabungan",value:Ye(e.total_savings||0),subtext:"Total aset tabungan jamaah",icon:aa,color:{bg:"bg-green-100",icon:"text-green-600",text:"text-green-600"}}),(0,l.createElement)(la,{title:"Request Private Baru",value:t.filter(e=>"new"===e.status).length,subtext:"Butuh follow up segera",icon:Te,color:{bg:"bg-purple-100",icon:"text-purple-600",text:"text-purple-600"}}),(0,l.createElement)(la,{title:"Keberangkatan Bulan Ini",value:e.upcoming_departures||0,subtext:"Grup terjadwal",icon:De,color:{bg:"bg-orange-100",icon:"text-orange-600",text:"text-orange-600"}})),(0,l.createElement)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},(0,l.createElement)("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-100 p-6"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-4"},(0,l.createElement)("h3",{className:"font-bold text-gray-800"},"Request Private Umrah Terbaru"),(0,l.createElement)("button",{className:"text-sm text-blue-600 hover:underline"},"Lihat Semua")),(0,l.createElement)("div",{className:"overflow-x-auto"},(0,l.createElement)("table",{className:"w-full text-sm text-left"},(0,l.createElement)("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50"},(0,l.createElement)("tr",null,(0,l.createElement)("th",{className:"px-4 py-2"},"Nama Kontak"),(0,l.createElement)("th",{className:"px-4 py-2"},"Pax"),(0,l.createElement)("th",{className:"px-4 py-2"},"Tanggal"),(0,l.createElement)("th",{className:"px-4 py-2"},"Status"))),(0,l.createElement)("tbody",null,t.length>0?t.map(e=>(0,l.createElement)("tr",{key:e.id,className:"border-b last:border-0 hover:bg-gray-50"},(0,l.createElement)("td",{className:"px-4 py-3 font-medium"},e.contact_name),(0,l.createElement)("td",{className:"px-4 py-3"},e.pax_count," Org"),(0,l.createElement)("td",{className:"px-4 py-3"},e.travel_date_start),(0,l.createElement)("td",{className:"px-4 py-3"},(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs "+("new"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100")},e.status.toUpperCase())))):(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"4",className:"px-4 py-4 text-center text-gray-400"},"Belum ada request baru")))))),(0,l.createElement)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6"},(0,l.createElement)("h3",{className:"font-bold text-gray-800 mb-4"},"Aksi Cepat"),(0,l.createElement)("div",{className:"space-y-3"},(0,l.createElement)("button",{className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-blue-50 rounded-lg flex items-center gap-3 transition-colors group"},(0,l.createElement)("div",{className:"bg-blue-100 p-2 rounded-full group-hover:bg-blue-200"},(0,l.createElement)(je,{className:"w-4 h-4 text-blue-600"})),(0,l.createElement)("span",{className:"font-medium text-gray-700"},"Daftarkan Jamaah Baru")),(0,l.createElement)("button",{className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-green-50 rounded-lg flex items-center gap-3 transition-colors group"},(0,l.createElement)("div",{className:"bg-green-100 p-2 rounded-full group-hover:bg-green-200"},(0,l.createElement)(Re,{className:"w-4 h-4 text-green-600"})),(0,l.createElement)("span",{className:"font-medium text-gray-700"},"Catat Pembayaran")),(0,l.createElement)("button",{className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-purple-50 rounded-lg flex items-center gap-3 transition-colors group"},(0,l.createElement)("div",{className:"bg-purple-100 p-2 rounded-full group-hover:bg-purple-200"},(0,l.createElement)(Te,{className:"w-4 h-4 text-purple-600"})),(0,l.createElement)("span",{className:"font-medium text-gray-700"},"Buat Penawaran Private"))),(0,l.createElement)("div",{className:"mt-6 pt-6 border-t border-gray-100"},(0,l.createElement)("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-3"},"Status Sistem"),(0,l.createElement)("div",{className:"flex items-center gap-2 text-sm text-green-600 bg-green-50 p-2 rounded"},(0,l.createElement)(ta,{className:"w-4 h-4"}),(0,l.createElement)("span",null,"Database v6.1.0 (Latest)"))))))},ra=Pe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),sa=Pe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),ia=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),oa=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ca=Pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ma=({size:e=24,text:a})=>(0,l.createElement)("div",{className:"flex justify-center items-center py-4"},(0,l.createElement)(ca,{className:"animate-spin text-blue-600",size:e}),a&&(0,l.createElement)("span",{className:"ml-2 text-gray-600"},a)),da=({columns:e,data:a=[],loading:t,sortBy:n,onSort:r,onEdit:s,onDelete:i,renderRowActions:o,userCapabilities:c=[],editCapability:m,deleteCapability:d})=>{const u=Array.isArray(a)?a:[],p=e=>!e||!!c&&(!!("super_admin"===c||Array.isArray(c)&&c.includes("manage_options"))||Array.isArray(c)&&c.includes(e)),h=p(m),b=p(d);return t&&0===u.length?(0,l.createElement)("div",{className:"flex justify-center items-center p-12 bg-white rounded-lg shadow"},(0,l.createElement)(ma,{text:"Sedang memuat data..."})):0===u.length?(0,l.createElement)("div",{className:"text-center p-12 bg-white rounded-lg shadow border border-gray-100"},(0,l.createElement)("p",{className:"text-gray-500"},"Tidak ada data ditemukan.")):(0,l.createElement)("div",{className:"overflow-x-auto bg-white rounded-lg shadow border border-gray-200"},(0,l.createElement)("table",{className:"min-w-full divide-y divide-gray-200"},(0,l.createElement)("thead",{className:"bg-gray-50"},(0,l.createElement)("tr",null,e.map(e=>(0,l.createElement)("th",{key:e.accessor||e.header,scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>e.sortable&&r&&r(e.accessor)},(0,l.createElement)("div",{className:"flex items-center gap-1"},e.Header||e.header,e.sortable&&n&&(0,l.createElement)("span",{className:"inline-block"},n.field===e.accessor?"asc"===n.order?(0,l.createElement)(ra,{size:14}):(0,l.createElement)(sa,{size:14}):(0,l.createElement)(ra,{size:14,className:"text-gray-300"}))))),(s||i||o)&&(0,l.createElement)("th",{scope:"col",className:"relative px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi"))),(0,l.createElement)("tbody",{className:"bg-white divide-y divide-gray-200"},t&&(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:e.length+1,className:"p-2 bg-blue-50"},(0,l.createElement)("div",{className:"flex justify-center items-center text-blue-600 text-xs"},(0,l.createElement)(ma,{size:16,text:"Memperbarui data..."})))),u.map((a,t)=>(0,l.createElement)("tr",{key:a.id||t,className:"hover:bg-gray-50 transition-colors"},e.map(e=>(0,l.createElement)("td",{key:e.accessor||t,className:`px-6 py-4 whitespace-nowrap text-sm text-gray-700 ${e.className||""}`},e.render?e.render(a,t):void 0!==a[e.accessor]&&null!==a[e.accessor]?a[e.accessor]:"-")),(s||i||o)&&(0,l.createElement)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-3"},o&&o(a),s&&h&&(0,l.createElement)("button",{onClick:()=>s(a),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Edit"},(0,l.createElement)(ia,{size:18})),i&&b&&(0,l.createElement)("button",{onClick:()=>i(a),className:"text-red-600 hover:text-red-900 transition-colors",title:"Hapus"},(0,l.createElement)(oa,{size:18}))))))))},ua=()=>{const[e,a]=(0,l.useState)({categories:[],airlines:[],hotels_makkah:[],hotels_madinah:[]});(0,l.useEffect)(()=>{(async()=>{try{const[e,t,l]=await Promise.all([Ze.get("/package-categories"),Ze.get("/masters?type=airlines"),Ze.get("/masters?type=hotels")]);a({categories:Array.isArray(e)?e:[],airlines:Array.isArray(t)?t:[],hotels_makkah:Array.isArray(l)?l.filter(e=>"Makkah"===e.city):[],hotels_madinah:Array.isArray(l)?l.filter(e=>"Madinah"===e.city):[]})}catch(e){console.error("Gagal memuat master data paket",e)}})()},[]);const t=[{key:"name",label:"Nama Paket",render:(e,a)=>(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold text-gray-800"},e),(0,l.createElement)("div",{className:"text-xs text-gray-500"},a.duration_days," Hari - ",a.type.toUpperCase()))},{key:"category_name",label:"Kategori",render:e=>(0,l.createElement)("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs"},e||"Umum")},{key:"base_price_quad",label:"Harga Mulai (Quad)",render:e=>(0,l.createElement)("span",{className:"font-semibold text-green-700"},Ye(e))},{key:"hotel_makkah_name",label:"Hotel",render:(e,a)=>(0,l.createElement)("div",{className:"text-xs"},(0,l.createElement)("div",null,"ðŸ•‹ ",e||"-"),(0,l.createElement)("div",null,"ðŸ•Œ ",a.hotel_madinah_name||"-"))},{key:"status",label:"Status",render:e=>(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs ${{active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",archived:"bg-red-100 text-red-800"}[e]}`},e.toUpperCase())}],n=[{section:"Informasi Dasar"},{name:"name",label:"Nama Paket",type:"text",required:!0,width:"half"},{name:"type",label:"Tipe Layanan",type:"select",options:[{value:"umrah",label:"Umrah"},{value:"haji",label:"Haji"},{value:"tour",label:"Halal Tour"}],defaultValue:"umrah",width:"quarter"},{name:"duration_days",label:"Durasi (Hari)",type:"number",defaultValue:9,width:"quarter"},{name:"category_id",label:"Kategori Paket",type:"select",options:e.categories.map(e=>({value:e.id,label:e.name})),width:"full"},{section:"Akomodasi & Transportasi"},{name:"airline_id",label:"Maskapai",type:"select",options:e.airlines.map(e=>({value:e.id,label:`${e.name} (${e.code})`})),width:"third"},{name:"hotel_makkah_id",label:"Hotel Makkah",type:"select",options:e.hotels_makkah.map(e=>({value:e.id,label:`${e.name} (${e.rating}â˜…)`})),width:"third"},{name:"hotel_madinah_id",label:"Hotel Madinah",type:"select",options:e.hotels_madinah.map(e=>({value:e.id,label:`${e.name} (${e.rating}â˜…)`})),width:"third"},{section:"Harga Paket (Per Room Type)"},{name:"currency",label:"Mata Uang",type:"select",options:[{value:"IDR",label:"IDR"},{value:"USD",label:"USD"}],defaultValue:"IDR",width:"quarter"},{name:"base_price_quad",label:"Harga Quad (Sekamar 4)",type:"number",required:!0,width:"quarter"},{name:"base_price_triple",label:"Harga Triple (Sekamar 3)",type:"number",width:"quarter"},{name:"base_price_double",label:"Harga Double (Sekamar 2)",type:"number",width:"quarter"},{name:"down_payment_amount",label:"Minimal DP",type:"number",width:"half"},{section:"Detail & Fasilitas"},{name:"description",label:"Deskripsi Singkat",type:"textarea",width:"full"},{name:"included_features",label:"Termasuk (Include)",type:"textarea",placeholder:"Tiket PP, Visa, Makan 3x...",width:"half"},{name:"excluded_features",label:"Tidak Termasuk (Exclude)",type:"textarea",placeholder:"Paspor, Vaksin, Keperluan Pribadi...",width:"half"},{name:"terms_conditions",label:"Syarat & Ketentuan",type:"textarea",width:"full"},{section:"Media & Status"},{name:"image_url",label:"URL Gambar Banner",type:"url",width:"half"},{name:"brochure_pdf",label:"URL E-Brochure (PDF)",type:"url",width:"half"},{name:"status",label:"Status Publikasi",type:"select",options:[{value:"active",label:"Aktif (Tampil)"},{value:"draft",label:"Draft"},{value:"archived",label:"Arsip"}],defaultValue:"active",width:"full"}];return(0,l.createElement)(da,{title:"Katalog Paket Umrah & Haji",endpoint:"/packages",columns:t,formFields:n,searchPlaceholder:"Cari nama paket..."})},pa=()=>{const[e,a]=(0,l.useState)([]),[t,n]=(0,l.useState)([]),[r,s]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{try{const e=await Ze.get("/mutawwif?status=active"),t=await Ze.get("/packages"),l=await Ze.get("/masters?type=airlines");e&&Array.isArray(e)&&a(e),t&&Array.isArray(t)&&n(t),l&&Array.isArray(l)&&s(l)}catch(e){console.error("Failed to fetch masters for departures",e)}})()},[]);const i=[{key:"departure_date",label:"Tgl Berangkat",render:(e,a)=>(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold"},ea(e)),(0,l.createElement)("div",{className:"text-xs text-gray-500"},"Pulang: ",ea(a.return_date)))},{key:"package_name",label:"Paket",render:(e,a)=>(0,l.createElement)("div",null,(0,l.createElement)("span",{className:"font-semibold"},e||"Paket Umum"),"private"===a.departure_type&&(0,l.createElement)("span",{className:"ml-2 px-1 py-0.5 bg-purple-100 text-purple-800 text-[10px] rounded border border-purple-200"},"PRIVATE"))},{key:"quota",label:"Seat",render:(e,a)=>{const t=a.filled_seats||0,n=Math.min(100,Math.round(t/e*100));let r="bg-green-500";return n>80&&(r="bg-yellow-500"),n>=100&&(r="bg-red-500"),(0,l.createElement)("div",{className:"w-24"},(0,l.createElement)("div",{className:"flex justify-between text-xs mb-1"},(0,l.createElement)("span",null,t,"/",e),(0,l.createElement)("span",null,n,"%")),(0,l.createElement)("div",{className:"w-full bg-gray-200 rounded-full h-1.5"},(0,l.createElement)("div",{className:`${r} h-1.5 rounded-full`,style:{width:`${n}%`}})))}},{key:"mutawwif_name",label:"Petugas",render:(e,a)=>(0,l.createElement)("div",{className:"text-xs"},(0,l.createElement)("div",null,"TL: ",a.tour_leader_name||"-"),(0,l.createElement)("div",null,"Mutawwif: ",e||"-"))},{key:"status",label:"Status",render:e=>(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs ${{open:"bg-green-100 text-green-800",closed:"bg-red-100 text-red-800",departed:"bg-blue-100 text-blue-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-gray-800 text-white"}[e]}`},e.toUpperCase())}],o=[{section:"Informasi Dasar"},{name:"package_id",label:"Pilih Paket Utama",type:"select",options:t.map(e=>({value:e.id,label:e.name})),required:!0,width:"full"},{name:"departure_type",label:"Tipe Keberangkatan",type:"select",options:[{value:"regular",label:"Reguler (Open Seat)"},{value:"private",label:"Private Group"}],defaultValue:"regular",width:"half"},{name:"linked_private_request_id",label:"ID Request Private (Jika Tipe Private)",type:"number",width:"half"},{section:"Waktu & Penerbangan"},{name:"departure_date",label:"Tgl Berangkat",type:"date",required:!0,width:"half"},{name:"return_date",label:"Tgl Pulang",type:"date",required:!0,width:"half"},{name:"airline_id",label:"Maskapai",type:"select",options:r.map(e=>({value:e.id,label:`${e.name} (${e.code})`})),width:"third"},{name:"flight_number_depart",label:"No. Flight Pergi",type:"text",width:"third"},{name:"flight_number_return",label:"No. Flight Pulang",type:"text",width:"third"},{section:"Kuota & Harga Spesifik"},{name:"quota",label:"Total Seat (Kuota)",type:"number",defaultValue:45,required:!0,width:"quarter"},{name:"price_override",label:"Harga Override (Opsional)",type:"number",placeholder:"Isi jika beda dgn paket",width:"quarter"},{name:"price_quad",label:"Harga Quad",type:"number",width:"quarter"},{name:"price_double",label:"Harga Double",type:"number",width:"quarter"},{section:"Petugas Lapangan"},{name:"tour_leader_name",label:"Tour Leader",type:"text",width:"half"},{name:"tour_leader_id",label:"ID TL (Opsional)",type:"number",width:"half"},{name:"mutawwif_id",label:"Assign Mutawwif",type:"select",options:[{value:"",label:"- Belum Ditentukan -"},...e.map(e=>({value:e.id,label:e.name}))],width:"full"},{section:"Status"},{name:"status",label:"Status Jadwal",type:"select",options:[{value:"open",label:"Open (Buka Pendaftaran)"},{value:"closed",label:"Closed (Penuh/Tutup)"},{value:"departed",label:"Departed (Sedang Berjalan)"},{value:"completed",label:"Completed (Selesai)"},{value:"cancelled",label:"Cancelled"}],width:"full",defaultValue:"open"},{name:"notes",label:"Catatan Internal",type:"textarea",width:"full"}];return(0,l.createElement)(da,{title:"Manajemen Jadwal Keberangkatan",endpoint:"/departures",columns:i,formFields:o,searchPlaceholder:"Cari jadwal, tanggal, atau paket..."})},ha=()=>{const[e,a]=(0,l.useState)([]),[t,n]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{try{const e=await Ze.get("/departures?status=open"),t=await Ze.get("/agents?status=active");e&&a(e),t&&n(t)}catch(e){console.error("Gagal mengambil data referensi",e)}})()},[]);const r=[{key:"booking_code",label:"Kode Booking",render:e=>(0,l.createElement)("span",{className:"font-mono font-bold"},e)},{key:"contact_name",label:"Nama Kontak"},{key:"departure_date",label:"Keberangkatan",render:(e,a)=>(0,l.createElement)("div",{className:"flex flex-col"},(0,l.createElement)("span",{className:"text-xs font-semibold"},a.departure_name||`Jadwal #${a.departure_id}`),(0,l.createElement)("span",{className:"text-xs text-gray-500"},ea(a.departure_date)))},{key:"total_pax",label:"Pax",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-bold"},e," Orang")},{key:"total_price",label:"Total Tagihan",render:e=>Ye(e)},{key:"payment_status",label:"Status Bayar",render:e=>(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs ${{unpaid:"bg-red-100 text-red-800",dp:"bg-yellow-100 text-yellow-800",partial:"bg-orange-100 text-orange-800",paid:"bg-green-100 text-green-800",refunded:"bg-gray-200 text-gray-600",overdue:"bg-red-900 text-white"}[e]||"bg-gray-100"}`},{unpaid:"Belum Bayar",dp:"Sudah DP",partial:"Cicilan",paid:"Lunas",refunded:"Refund",overdue:"Jatuh Tempo"}[e]||e.toUpperCase())},{key:"status",label:"Status Booking",render:e=>(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs ${{draft:"bg-gray-100 text-gray-600",pending:"bg-blue-100 text-blue-800",confirmed:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-red-100 text-red-800"}[e]}`},e.toUpperCase())},{key:"is_from_savings",label:"Sumber",render:e=>1==e?(0,l.createElement)("span",{className:"text-xs bg-teal-100 text-teal-800 px-1 rounded"},"Tabungan"):"-"}],s=[{section:"Informasi Keberangkatan & Agen"},{name:"departure_id",label:"Pilih Jadwal Keberangkatan",type:"select",options:e.map(e=>({value:e.id,label:`${e.package_name||"Paket"} - ${ea(e.departure_date)} (Sisa: ${e.available_seats})`})),required:!0,width:"half"},{name:"agent_id",label:"Agen / Referal (Opsional)",type:"select",options:[{value:"",label:"- Tanpa Agen -"},...t.map(e=>({value:e.id,label:`${e.name} (${e.code})`}))],width:"half"},{section:"Data Pemesan (Contact Person)"},{name:"contact_name",label:"Nama Lengkap",type:"text",required:!0,width:"half"},{name:"contact_phone",label:"No. Handphone/WA",type:"tel",required:!0,width:"half"},{name:"contact_email",label:"Alamat Email",type:"email",width:"half"},{name:"user_id",label:"ID User (Jika Terdaftar)",type:"number",width:"half",placeholder:"Kosongkan jika tamu"},{section:"Detail Pemesanan"},{name:"total_pax",label:"Jumlah Jamaah (Pax)",type:"number",required:!0,defaultValue:1,width:"third"},{name:"currency",label:"Mata Uang",type:"select",options:[{value:"IDR",label:"IDR"},{value:"USD",label:"USD"}],defaultValue:"IDR",width:"third"},{name:"total_price",label:"Total Harga Paket",type:"number",required:!0,width:"third"},{name:"discount_amount",label:"Diskon (Jika ada)",type:"number",defaultValue:0,width:"half"},{name:"coupon_id",label:"ID Kupon",type:"number",width:"half"},{section:"Status & Pembayaran"},{name:"status",label:"Status Booking",type:"select",options:[{value:"draft",label:"Draft"},{value:"pending",label:"Pending Confirmation"},{value:"confirmed",label:"Confirmed (Seat Secured)"},{value:"completed",label:"Completed (Selesai)"},{value:"cancelled",label:"Cancelled"}],defaultValue:"pending",width:"half"},{name:"payment_status",label:"Status Pembayaran",type:"select",options:[{value:"unpaid",label:"Belum Bayar"},{value:"dp",label:"Sudah DP"},{value:"partial",label:"Cicilan Berjalan"},{value:"paid",label:"Lunas"},{value:"refunded",label:"Refunded"}],defaultValue:"unpaid",width:"half"},{section:"Lain-lain"},{name:"notes",label:"Catatan Internal (Staff Only)",type:"textarea",width:"full"}];return(0,l.createElement)(da,{title:"Data Transaksi Booking",endpoint:"/bookings",columns:r,formFields:s,searchPlaceholder:"Cari kode booking, nama kontak...",allowDelete:!0})},ba=()=>{const e=[{key:"full_name",label:"Nama Jamaah",render:(e,a)=>(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold text-gray-800"},e),(0,l.createElement)("div",{className:"text-xs text-gray-500"},a.nik||"No NIK -"))},{key:"gender",label:"JK",render:e=>"L"===e?(0,l.createElement)("span",{className:"bg-blue-100 text-blue-800 px-2 rounded text-xs"},"Laki-laki"):(0,l.createElement)("span",{className:"bg-pink-100 text-pink-800 px-2 rounded text-xs"},"Perempuan")},{key:"phone",label:"No. HP",render:e=>e||"-"},{key:"passport_number",label:"No. Paspor",render:e=>e?(0,l.createElement)("span",{className:"font-mono text-purple-700"},e):(0,l.createElement)("span",{className:"text-red-400 text-xs"},"Belum Ada")},{key:"city",label:"Kota Domisili"},{key:"status",label:"Status",render:e=>"berangkat"===e?(0,l.createElement)("span",{className:"bg-green-500 text-white px-2 py-0.5 rounded text-xs"},"BERANGKAT"):(0,l.createElement)("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded text-xs"},e.toUpperCase())}],a=[{section:"Identitas Pribadi"},{name:"full_name",label:"Nama Lengkap (Sesuai KTP)",type:"text",required:!0,width:"half"},{name:"full_name_ar",label:"Nama dalam Bahasa Arab",type:"text",width:"half"},{name:"nik",label:"Nomor Induk Kependudukan (NIK)",type:"text",required:!0,width:"half"},{name:"gender",label:"Jenis Kelamin",type:"select",options:[{value:"L",label:"Laki-laki"},{value:"P",label:"Perempuan"}],required:!0,width:"quarter"},{name:"clothing_size",label:"Ukuran Baju (Batik/Seragam)",type:"select",options:["S","M","L","XL","XXL","3XL","4XL","5XL"].map(e=>({value:e,label:e})),width:"quarter"},{section:"Kontak & Alamat"},{name:"phone",label:"No. WhatsApp Aktif",type:"tel",required:!0,width:"half"},{name:"email",label:"Alamat Email",type:"email",width:"half"},{name:"city",label:"Kota Domisili",type:"text",width:"half"},{name:"address",label:"Alamat Lengkap",type:"textarea",width:"half"},{section:"Dokumen Perjalanan (Paspor)"},{name:"passport_number",label:"Nomor Paspor",type:"text",width:"third"},{name:"scan_passport",label:"URL Scan Paspor",type:"url",width:"third",placeholder:"https://..."},{name:"scan_photo",label:"URL Pasfoto 4x6",type:"url",width:"third",placeholder:"https://..."},{section:"Data Keluarga & Kesehatan"},{name:"father_name",label:"Nama Ayah Kandung",type:"text",width:"half"},{name:"spouse_name",label:"Nama Pasangan (Suami/Istri)",type:"text",width:"half"},{name:"disease_history",label:"Riwayat Penyakit (Penting)",type:"textarea",placeholder:"Jantung, Diabetes, Asma, dll. Tulis (-) jika sehat.",width:"full"}];return(0,l.createElement)(da,{title:"Database Jamaah",endpoint:"/jamaah",columns:e,formFields:a,searchPlaceholder:"Cari nama, NIK, atau paspor..."})},ga=()=>{const[e,a]=(0,l.useState)({income:0,expense:0,balance:0}),t=[{key:"transaction_date",label:"Tanggal",render:e=>(0,l.createElement)("span",{className:"text-gray-600 font-mono text-xs"},ea(e))},{key:"type",label:"Tipe",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs font-bold "+("income"===e?"bg-green-100 text-green-700":"bg-red-100 text-red-700")},"income"===e?"PEMASUKAN":"PENGELUARAN")},{key:"amount",label:"Nominal",render:(e,a)=>(0,l.createElement)("span",{className:"font-mono font-bold "+("income"===a.type?"text-green-600":"text-red-600")},"expense"===a.type?"-":"+"," ",Ye(e))},{key:"category",label:"Kategori & Sumber",render:(e,a)=>(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-medium text-gray-800"},e),(0,l.createElement)("div",{className:"flex gap-1 mt-1"},a.related_savings_id&&(0,l.createElement)("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-1 rounded border border-blue-100"},"Tabungan #",a.related_savings_id),a.related_badal_id&&(0,l.createElement)("span",{className:"text-[10px] bg-purple-50 text-purple-600 px-1 rounded border border-purple-100"},"Badal #",a.related_badal_id),a.booking_id&&(0,l.createElement)("span",{className:"text-[10px] bg-orange-50 text-orange-600 px-1 rounded border border-orange-100"},"Booking #",a.booking_id)))},{key:"description",label:"Keterangan",render:e=>(0,l.createElement)("span",{className:"text-xs text-gray-500 italic"},e)},{key:"status",label:"Status",render:e=>"verified"===e?(0,l.createElement)("span",{className:"text-green-500 text-xs"},"âœ” Verified"):(0,l.createElement)("span",{className:"text-yellow-500 text-xs"},"â³ ",e)}],n=[{section:"Detail Transaksi"},{name:"type",label:"Jenis Transaksi",type:"select",options:[{value:"income",label:"Pemasukan (Income)"},{value:"expense",label:"Pengeluaran (Expense)"}],required:!0,width:"half"},{name:"category",label:"Kategori",type:"select",options:[{value:"Pembayaran Booking",label:"Pembayaran Booking"},{value:"Tabungan Umroh",label:"Setoran Tabungan"},{value:"Badal Umrah",label:"Jasa Badal"},{value:"Operasional Kantor",label:"Operasional Kantor"},{value:"Gaji Karyawan",label:"Gaji Karyawan"},{value:"Marketing",label:"Biaya Marketing"},{value:"Refund",label:"Refund / Pengembalian"},{value:"Lainnya",label:"Lainnya"}],required:!0,width:"half"},{name:"amount",label:"Nominal (Rp)",type:"number",required:!0,width:"full"},{section:"Info Tambahan"},{name:"transaction_date",label:"Tanggal Transaksi",type:"date",required:!0,defaultValue:(new Date).toISOString().split("T")[0],width:"half"},{name:"payment_method",label:"Metode Bayar",type:"select",options:[{value:"transfer",label:"Transfer Bank"},{value:"cash",label:"Tunai"},{value:"va",label:"Virtual Account"}],width:"half"},{name:"description",label:"Keterangan Detail",type:"textarea",width:"full"},{section:"Link Referensi (Opsional - ID Saja)"},{name:"booking_id",label:"ID Booking",type:"number",width:"third"},{name:"related_savings_id",label:"ID Tabungan",type:"number",width:"third"},{name:"related_badal_id",label:"ID Badal",type:"number",width:"third"}];return(0,l.createElement)("div",{className:"space-y-6"},(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},(0,l.createElement)("div",{className:"bg-white p-4 rounded shadow-sm border-l-4 border-green-500"},(0,l.createElement)("p",{className:"text-xs text-gray-500 uppercase"},"Total Pemasukan"),(0,l.createElement)("p",{className:"text-xl font-bold text-green-700"},Ye(e.income))),(0,l.createElement)("div",{className:"bg-white p-4 rounded shadow-sm border-l-4 border-red-500"},(0,l.createElement)("p",{className:"text-xs text-gray-500 uppercase"},"Total Pengeluaran"),(0,l.createElement)("p",{className:"text-xl font-bold text-red-700"},Ye(e.expense))),(0,l.createElement)("div",{className:"bg-white p-4 rounded shadow-sm border-l-4 border-blue-500"},(0,l.createElement)("p",{className:"text-xs text-gray-500 uppercase"},"Saldo Arus Kas"),(0,l.createElement)("p",{className:"text-xl font-bold text-blue-700"},Ye(e.balance)))),(0,l.createElement)(da,{title:"Laporan Keuangan & Arus Kas",endpoint:"/finance",columns:t,formFields:n,searchPlaceholder:"Cari transaksi...",onDataLoaded:e=>{if(!Array.isArray(e))return;const t=e.filter(e=>"income"===e.type).reduce((e,a)=>e+parseFloat(a.amount),0),l=e.filter(e=>"expense"===e.type).reduce((e,a)=>e+parseFloat(a.amount),0);a({income:t,expense:l,balance:t-l})}}))},ya=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fa=({isOpen:e,onClose:a,title:t,children:n,size:r="max-w-2xl",footer:s})=>((0,l.useEffect)(()=>{const e=e=>{27===e.keyCode&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a]),e?(0,l.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start pt-10",onClick:e=>{e.target===e.currentTarget&&a()}},(0,l.createElement)("div",{className:`bg-white rounded-lg shadow-xl w-full ${r} m-4 flex flex-col max-h-[90vh]`},(0,l.createElement)("div",{className:"flex justify-between items-center p-4 border-b"},(0,l.createElement)("h3",{className:"text-xl font-semibold text-gray-800"},t),(0,l.createElement)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100 transition-colors"},(0,l.createElement)(ya,{size:20}))),(0,l.createElement)("div",{className:"p-6 overflow-y-auto"},n),s&&(0,l.createElement)("div",{className:"flex justify-end items-center p-4 border-t space-x-2 bg-gray-50 rounded-b-lg"},s))):null);let va={data:""},xa=e=>{if("object"==typeof window){let a=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return a.nonce=window.__nonce__,a.parentNode||(e||document.head).appendChild(a),a.firstChild}return e||va},Ea=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ka=/\/\*[^]*?\*\/|  +/g,wa=/\n+/g,Na=(e,a)=>{let t="",l="",n="";for(let r in e){let s=e[r];"@"==r[0]?"i"==r[1]?t=r+" "+s+";":l+="f"==r[1]?Na(s,r):r+"{"+Na(s,"k"==r[1]?"":a)+"}":"object"==typeof s?l+=Na(s,a?a.replace(/([^,])+/g,e=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,a=>/&/.test(a)?a.replace(/&/g,e):e?e+" "+a:a)):r):null!=s&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Na.p?Na.p(r,s):r+":"+s+";")}return t+(a&&n?a+"{"+n+"}":n)+l},_a={},Sa=e=>{if("object"==typeof e){let a="";for(let t in e)a+=t+Sa(e[t]);return a}return e},Pa=(e,a,t,l,n)=>{let r=Sa(e),s=_a[r]||(_a[r]=(e=>{let a=0,t=11;for(;a<e.length;)t=101*t+e.charCodeAt(a++)>>>0;return"go"+t})(r));if(!_a[s]){let a=r!==e?e:(e=>{let a,t,l=[{}];for(;a=Ea.exec(e.replace(ka,""));)a[4]?l.shift():a[3]?(t=a[3].replace(wa," ").trim(),l.unshift(l[0][t]=l[0][t]||{})):l[0][a[1]]=a[2].replace(wa," ").trim();return l[0]})(e);_a[s]=Na(n?{["@keyframes "+s]:a}:a,t?"":"."+s)}let i=t&&_a.g?_a.g:null;return t&&(_a.g=_a[s]),((e,a,t,l)=>{l?a.data=a.data.replace(l,e):-1===a.data.indexOf(e)&&(a.data=t?e+a.data:a.data+e)})(_a[s],a,l,i),s};function Ca(e){let a=this||{},t=e.call?e(a.p):e;return Pa(t.unshift?t.raw?((e,a,t)=>e.reduce((e,l,n)=>{let r=a[n];if(r&&r.call){let e=r(t),a=e&&e.props&&e.props.className||/^go/.test(e)&&e;r=a?"."+a:e&&"object"==typeof e?e.props?"":Na(e,""):!1===e?"":e}return e+l+(null==r?"":r)},""))(t,[].slice.call(arguments,1),a.p):t.reduce((e,t)=>Object.assign(e,t&&t.call?t(a.p):t),{}):t,xa(a.target),a.g,a.o,a.k)}Ca.bind({g:1});let Aa,Da,Ta,Ma=Ca.bind({k:1});function Ba(e,a){let t=this||{};return function(){let l=arguments;function n(r,s){let i=Object.assign({},r),o=i.className||n.className;t.p=Object.assign({theme:Da&&Da()},i),t.o=/ *go\d+/.test(o),i.className=Ca.apply(t,l)+(o?" "+o:""),a&&(i.ref=s);let c=e;return e[0]&&(c=i.as||e,delete i.as),Ta&&c[0]&&Ta(i),Aa(c,i)}return a?a(n):n}}var La=(e,a)=>(e=>"function"==typeof e)(e)?e(a):e,Ra=(()=>{let e=0;return()=>(++e).toString()})(),ja=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let a=matchMedia("(prefers-reduced-motion: reduce)");e=!a||a.matches}return e}})(),Ia="default",Ka=(e,a)=>{let{toastLimit:t}=e.settings;switch(a.type){case 0:return{...e,toasts:[a.toast,...e.toasts].slice(0,t)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case 2:let{toast:l}=a;return Ka(e,{type:e.toasts.find(e=>e.id===l.id)?1:0,toast:l});case 3:let{toastId:n}=a;return{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===a.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)};case 5:return{...e,pausedAt:a.time};case 6:let r=a.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+r}))}}},qa=[],Ua={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},$a={},Ha=(e,a=Ia)=>{$a[a]=Ka($a[a]||Ua,e),qa.forEach(([e,t])=>{e===a&&t($a[a])})},za=e=>Object.keys($a).forEach(a=>Ha(e,a)),Oa=(e=Ia)=>a=>{Ha(a,e)},Fa=e=>(a,t)=>{let l=((e,a="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:a,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...t,id:(null==t?void 0:t.id)||Ra()}))(a,e,t);return Oa(l.toasterId||(e=>Object.keys($a).find(a=>$a[a].toasts.some(a=>a.id===e)))(l.id))({type:2,toast:l}),l.id},Ja=(e,a)=>Fa("blank")(e,a);Ja.error=Fa("error"),Ja.success=Fa("success"),Ja.loading=Fa("loading"),Ja.custom=Fa("custom"),Ja.dismiss=(e,a)=>{let t={type:3,toastId:e};a?Oa(a)(t):za(t)},Ja.dismissAll=e=>Ja.dismiss(void 0,e),Ja.remove=(e,a)=>{let t={type:4,toastId:e};a?Oa(a)(t):za(t)},Ja.removeAll=e=>Ja.remove(void 0,e),Ja.promise=(e,a,t)=>{let l=Ja.loading(a.loading,{...t,...null==t?void 0:t.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let n=a.success?La(a.success,e):void 0;return n?Ja.success(n,{id:l,...t,...null==t?void 0:t.success}):Ja.dismiss(l),e}).catch(e=>{let n=a.error?La(a.error,e):void 0;n?Ja.error(n,{id:l,...t,...null==t?void 0:t.error}):Ja.dismiss(l)}),e};var Wa=Ma`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Va=Ma`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ga=Ma`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Xa=Ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Va} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ga} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Za=Ma`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Qa=Ba("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Za} 1s linear infinite;
`,Ya=Ma`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,et=Ma`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,at=Ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ya} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${et} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tt=Ba("div")`
  position: absolute;
`,lt=Ba("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nt=Ma`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rt=Ba("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nt} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,st=({toast:e})=>{let{icon:a,type:t,iconTheme:n}=e;return void 0!==a?"string"==typeof a?l.createElement(rt,null,a):a:"blank"===t?null:l.createElement(lt,null,l.createElement(Qa,{...n}),"loading"!==t&&l.createElement(tt,null,"error"===t?l.createElement(Xa,{...n}):l.createElement(at,{...n})))},it=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ot=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,ct=Ba("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,mt=Ba("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`;l.memo(({toast:e,position:a,style:t,children:n})=>{let r=e.height?((e,a)=>{let t=e.includes("top")?1:-1,[l,n]=ja()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[it(t),ot(t)];return{animation:a?`${Ma(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ma(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||a||"top-center",e.visible):{opacity:0},s=l.createElement(st,{toast:e}),i=l.createElement(mt,{...e.ariaProps},La(e.message,e));return l.createElement(ct,{className:e.className,style:{...r,...t,...e.style}},"function"==typeof n?n({icon:s,message:i}):l.createElement(l.Fragment,null,s,i))}),function(e){Na.p=void 0,Aa=e,Da=void 0,Ta=void 0}(l.createElement),Ca`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var dt=Ja;const ut=(e,a={})=>{const[t,n]=(0,l.useState)([]),[r,s]=(0,l.useState)({current_page:1,total_pages:1,total_items:0}),[i,o]=(0,l.useState)(!1),c=(0,l.useCallback)(async(t={})=>{o(!0);try{const l={...a,...t},r=await Qe.get(e,{params:l});Array.isArray(r)?n(r):r&&Array.isArray(r.items)?(n(r.items),s({current_page:parseInt(r.current_page||1),total_pages:parseInt(r.total_pages||1),total_items:parseInt(r.total_items||0)})):r&&r.data?n(Array.isArray(r.data)?r.data:[]):n([])}catch(a){console.error(`Error fetching ${e}:`,a)}finally{o(!1)}},[e]);return{data:t,pagination:r,loading:i,fetchData:c,createItem:async a=>{o(!0);const t=dt.loading("Menyimpan data...");try{return await Qe.post(e,a),dt.success("Berhasil disimpan!",{id:t}),await c(),!0}catch(e){const a=e.response?.data?.message||e.message||"Gagal menyimpan";return dt.error(a,{id:t}),!1}finally{o(!1)}},updateItem:async(a,t)=>{o(!0);const l=dt.loading("Memperbarui data...");try{return await Qe.post(`${e}/${a}`,t),dt.success("Berhasil diperbarui!",{id:l}),await c(),!0}catch(e){const a=e.response?.data?.message||e.message||"Gagal update";return dt.error(a,{id:l}),!1}finally{o(!1)}},deleteItem:async a=>{if(!window.confirm("Yakin ingin menghapus data ini?"))return!1;o(!0);const t=dt.loading("Menghapus...");try{return await Qe.delete(`${e}/${a}`),dt.success("Data telah dihapus",{id:t}),n(e=>e.filter(e=>e.id!==a)),!0}catch(e){const a=e.response?.data?.message||e.message||"Gagal menghapus";return dt.error(a,{id:t}),!1}finally{o(!1)}},changePage:e=>c({page:e}),changeLimit:e=>c({per_page:e,page:1})}},pt=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ht=()=>{const{data:e,loading:a,fetchData:t}=ut("umh/v1/agents"),[n,r]=(0,l.useState)(!1),s={username:"",email:"",password:"",full_name:"",phone:"",commission_type:"fixed",commission_value:0,bank_details:""},[i,o]=(0,l.useState)(s),c=e=>o({...i,[e.target.name]:e.target.value}),m=[{header:"Nama Agen",accessor:"agent_name",render:e=>(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold text-gray-900"},e.agent_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.email))},{header:"Level",accessor:"level",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase "+("master"===e.level?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700")},e.level)},{header:"Upline",accessor:"upline_name",render:e=>e.upline_name||"-"},{header:"Komisi",accessor:"commission_value",render:e=>Ye(e.commission_value)},{header:"Status",accessor:"status",render:e=>e.status},{header:"Bergabung",accessor:"joined_date",render:e=>ea(e.joined_date)}];return(0,l.createElement)(We,{title:"Kemitraan & Agen"},(0,l.createElement)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 mb-6 flex justify-between"},(0,l.createElement)("h2",{className:"text-lg font-bold text-gray-700"},"Daftar Mitra"),(0,l.createElement)("button",{onClick:()=>{o(s),r(!0)},className:"btn-primary flex items-center gap-2"},(0,l.createElement)(pt,{size:18})," Registrasi Agen Baru")),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow border border-gray-200"},(0,l.createElement)(da,{columns:m,data:e,loading:a})),(0,l.createElement)(fa,{isOpen:n,onClose:()=>r(!1),title:"Registrasi Agen Baru",size:"max-w-4xl"},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{const e={username:i.username,email:i.email,password:i.password,full_name:i.full_name,role_key:"agent"},a=await Qe.post("umh/v1/users",e),l=a.id||a.data&&a.data.id;if(!l)throw new Error("Gagal membuat user login");const n={umh_user_id:l,commission_type:i.commission_type,commission_value:i.commission_value,bank_details:i.bank_details};await Qe.post("umh/v1/agents",n),dt.success("Agen baru berhasil didaftarkan"),r(!1),t()}catch(e){dt.error("Gagal: "+e.message)}}},(0,l.createElement)("div",{className:"grid grid-cols-2 gap-6"},(0,l.createElement)("div",{className:"space-y-4"},(0,l.createElement)("h4",{className:"font-bold text-blue-800 border-b pb-2"},"Akun Login"),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Nama Lengkap"),(0,l.createElement)("input",{name:"full_name",className:"input-field",value:i.full_name,onChange:c,required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Username"),(0,l.createElement)("input",{name:"username",className:"input-field",value:i.username,onChange:c,required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Email"),(0,l.createElement)("input",{type:"email",name:"email",className:"input-field",value:i.email,onChange:c,required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Password"),(0,l.createElement)("input",{type:"password",name:"password",className:"input-field",value:i.password,onChange:c,required:!0}))),(0,l.createElement)("div",{className:"space-y-4"},(0,l.createElement)("h4",{className:"font-bold text-green-800 border-b pb-2"},"Data Keagenan"),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-2"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Tipe Komisi"),(0,l.createElement)("select",{name:"commission_type",className:"input-field",value:i.commission_type,onChange:c},(0,l.createElement)("option",{value:"fixed"},"Fixed (Nominal)"),(0,l.createElement)("option",{value:"percent"},"Persentase (%)"))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Nilai Komisi"),(0,l.createElement)("input",{type:"number",name:"commission_value",className:"input-field",value:i.commission_value,onChange:c}))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Info Bank (Nama/No Rek)"),(0,l.createElement)("textarea",{name:"bank_details",className:"input-field h-24",value:i.bank_details,onChange:c,placeholder:"BCA 123456 a.n Budi"})))),(0,l.createElement)("div",{className:"flex justify-end gap-2 pt-6 mt-4 border-t"},(0,l.createElement)("button",{type:"button",onClick:()=>r(!1),className:"btn-secondary"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"btn-primary"},"Daftarkan Agen")))))},bt=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),gt=Pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),yt=({id:e,label:a,icon:t,active:n,set:r})=>(0,l.createElement)("button",{onClick:()=>r(e),className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition "+(n===e?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700")},(0,l.createElement)(t,{size:16})," ",a),ft=()=>{const{data:e,loading:a,fetchData:t,deleteItem:n}=ut("umh/v1/hr/employees"),[r,s]=(0,l.useState)(!1),[i,o]=(0,l.useState)("create"),[c,m]=(0,l.useState)({name:"",position:"",department:"",salary:0,join_date:"",status:"active"}),d=[{header:"Nama",accessor:"name",render:e=>(0,l.createElement)("div",{className:"font-bold text-gray-800"},e.name)},{header:"Posisi",accessor:"position",render:e=>(0,l.createElement)("div",{className:"text-sm"},e.position,(0,l.createElement)("br",null),(0,l.createElement)("span",{className:"text-xs text-gray-500"},e.department))},{header:"Gaji Pokok",accessor:"salary",render:e=>Ye(e.salary)},{header:"Bergabung",accessor:"join_date",render:e=>ea(e.join_date)},{header:"Status",accessor:"status",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs uppercase "+("active"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700")},e.status)},{header:"Aksi",accessor:"id",render:e=>(0,l.createElement)("div",{className:"flex gap-2"},(0,l.createElement)("button",{onClick:()=>(m(e),o("edit"),void s(!0)),className:"text-blue-500 hover:bg-blue-50 p-1 rounded",title:"Edit"},(0,l.createElement)(ia,{size:16})),(0,l.createElement)("button",{onClick:()=>(async e=>{window.confirm("Hapus data karyawan ini?")&&await n(e)&&dt.success("Data dihapus")})(e.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:"Hapus"},(0,l.createElement)(gt,{size:16})))}];return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"p-4 flex justify-between items-center"},(0,l.createElement)("h3",{className:"font-bold text-gray-700"},"Database Karyawan"),(0,l.createElement)("button",{onClick:()=>{o("create"),m({name:"",position:"",department:"",salary:0,join_date:"",status:"active"}),s(!0)},className:"btn-primary flex items-center gap-2"},(0,l.createElement)(pt,{size:16})," Karyawan Baru")),(0,l.createElement)(da,{columns:d,data:e,loading:a}),(0,l.createElement)(fa,{isOpen:r,onClose:()=>s(!1),title:"create"===i?"Tambah Karyawan":"Edit Karyawan"},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{"create"===i?(await Qe.post("umh/v1/hr/employees",c),dt.success("Karyawan ditambahkan")):(await Qe.put(`umh/v1/hr/employees/${c.id}`,c),dt.success("Data diperbarui")),s(!1),t()}catch(e){dt.error("Gagal menyimpan data"),console.error(e)}},className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Nama Lengkap"),(0,l.createElement)("input",{className:"input-field",value:c.name,onChange:e=>m({...c,name:e.target.value}),required:!0})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Jabatan"),(0,l.createElement)("input",{className:"input-field",value:c.position,onChange:e=>m({...c,position:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Departemen"),(0,l.createElement)("input",{className:"input-field",value:c.department,onChange:e=>m({...c,department:e.target.value})}))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Gaji Pokok"),(0,l.createElement)("input",{type:"number",className:"input-field",value:c.salary,onChange:e=>m({...c,salary:e.target.value})})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Tanggal Masuk"),(0,l.createElement)("input",{type:"date",className:"input-field",value:c.join_date,onChange:e=>m({...c,join_date:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Status"),(0,l.createElement)("select",{className:"input-field",value:c.status,onChange:e=>m({...c,status:e.target.value})},(0,l.createElement)("option",{value:"active"},"Active"),(0,l.createElement)("option",{value:"resigned"},"Resigned"),(0,l.createElement)("option",{value:"terminated"},"Terminated")))),(0,l.createElement)("div",{className:"flex justify-end pt-4 border-t mt-4 gap-2"},(0,l.createElement)("button",{type:"button",onClick:()=>s(!1),className:"btn-secondary"},"Batal"),(0,l.createElement)("button",{type:"submit",className:"btn-primary"},"Simpan Data")))))},vt=()=>{const[e,a]=(0,l.useState)([]),[t,n]=(0,l.useState)(!1),[r,s]=(0,l.useState)((new Date).toISOString().split("T")[0]),[i,o]=(0,l.useState)(""),c=async()=>{n(!0);try{const e=await Qe.get("umh/v1/hr/attendance",{params:{date:r}});a(e.data||e||[])}catch(e){console.error(e),dt.error("Gagal memuat data absensi")}finally{n(!1)}};(0,l.useEffect)(()=>{c()},[r]);const m=async e=>{if(!i)return dt.error("Masukkan ID Karyawan");try{await Qe.post("umh/v1/hr/attendance",{employee_id:i,type:e}),dt.success("Berhasil "+("check_in"===e?"Masuk":"Pulang")),o(""),c()}catch(e){dt.error(e.message||"Gagal absensi")}},d=[{header:"Karyawan",accessor:"employee_name",render:e=>(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold text-gray-800"},e.employee_name),(0,l.createElement)("div",{className:"text-xs text-gray-500"},e.position))},{header:"Masuk",accessor:"check_in_time",render:e=>(0,l.createElement)("span",{className:"text-green-600 font-mono font-bold"},e.check_in_time)},{header:"Pulang",accessor:"check_out_time",render:e=>e.check_out_time?(0,l.createElement)("span",{className:"text-blue-600 font-mono font-bold"},e.check_out_time):(0,l.createElement)("span",{className:"text-gray-400 italic"},"--:--")},{header:"Status",accessor:"status",render:e=>(0,l.createElement)("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs uppercase"},e.status)}];return(0,l.createElement)("div",{className:"flex flex-col md:flex-row gap-6 p-4"},(0,l.createElement)("div",{className:"w-full md:w-1/3 bg-blue-50 p-6 rounded-xl border border-blue-100 h-fit"},(0,l.createElement)("h3",{className:"text-lg font-bold text-blue-800 mb-2"},"Input Kehadiran"),(0,l.createElement)("p",{className:"text-sm text-blue-600 mb-4"},"Masukkan ID Karyawan untuk mencatat jam masuk/pulang."),(0,l.createElement)("div",{className:"mb-4"},(0,l.createElement)("input",{type:"number",className:"input-field text-center text-xl font-mono",placeholder:"ID Karyawan",value:i,onChange:e=>o(e.target.value)})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("button",{onClick:()=>m("check_in"),className:"bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-bold shadow-sm transition-all"},"Check IN"),(0,l.createElement)("button",{onClick:()=>m("check_out"),className:"bg-red-600 hover:bg-red-700 text-white py-3 rounded-lg font-bold shadow-sm transition-all"},"Check OUT")),(0,l.createElement)("div",{className:"mt-4 text-xs text-center text-blue-400"},"* ID Karyawan bisa dilihat di tab Data Karyawan")),(0,l.createElement)("div",{className:"w-full md:w-2/3"},(0,l.createElement)("div",{className:"flex justify-between items-center mb-4"},(0,l.createElement)("h3",{className:"font-bold text-gray-700"},"Riwayat Harian"),(0,l.createElement)("div",{className:"flex items-center gap-2"},(0,l.createElement)("label",{className:"text-sm text-gray-500"},"Tanggal:"),(0,l.createElement)("input",{type:"date",className:"input-field w-auto py-1 text-sm",value:r,onChange:e=>s(e.target.value)}))),(0,l.createElement)("div",{className:"bg-white border rounded-lg overflow-hidden"},(0,l.createElement)(da,{columns:d,data:e,loading:t,emptyMessage:"Belum ada data absensi pada tanggal ini."}))))},xt=()=>{const[e,a]=(0,l.useState)("employees");return(0,l.createElement)(We,{title:"Human Resources (SDM)"},(0,l.createElement)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6 w-fit"},(0,l.createElement)(yt,{id:"employees",label:"Data Karyawan",icon:je,active:e,set:a}),(0,l.createElement)(yt,{id:"attendance",label:"Absensi Harian",icon:bt,active:e,set:a})),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow border border-gray-200 p-1"},"employees"===e?(0,l.createElement)(ft,null):(0,l.createElement)(vt,null)))},Et=Pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),kt=Pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),wt=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Nt=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_t=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),St=()=>{const{data:e,loading:a,fetchData:t}=ut("umh/v1/logistics/items"),[n,r]=(0,l.useState)(!1),[s,i]=(0,l.useState)({item_code:"",item_name:"",stock_qty:0,min_stock_alert:10}),o=[{header:"Kode",accessor:"item_code",render:e=>(0,l.createElement)("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded"},e.item_code)},{header:"Nama Barang",accessor:"item_name",render:e=>(0,l.createElement)("div",{className:"font-medium text-gray-800"},e.item_name)},{header:"Stok Gudang",accessor:"stock_qty",render:e=>(0,l.createElement)("div",{className:"font-bold "+(parseInt(e.stock_qty)<=parseInt(e.min_stock_alert)?"text-red-600 flex items-center gap-1":"text-green-600")},e.stock_qty," Units",parseInt(e.stock_qty)<=parseInt(e.min_stock_alert)&&(0,l.createElement)(kt,{size:14}))},{header:"Min. Alert",accessor:"min_stock_alert"}];return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"p-4 flex justify-between items-center"},(0,l.createElement)("h3",{className:"font-bold text-gray-700"},"Stok Barang"),(0,l.createElement)("button",{onClick:()=>r(!0),className:"btn-primary flex items-center gap-2"},(0,l.createElement)(pt,{size:18})," Tambah Master Barang")),(0,l.createElement)(da,{columns:o,data:e,loading:a}),(0,l.createElement)(fa,{isOpen:n,onClose:()=>r(!1),title:"Tambah Stok Barang"},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{await Qe.post("umh/v1/logistics/items",s),dt.success("Barang ditambahkan"),r(!1),t(),i({item_code:"",item_name:"",stock_qty:0,min_stock_alert:10})}catch(e){dt.error("Gagal simpan")}},className:"space-y-4"},(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Kode Barang"),(0,l.createElement)("input",{className:"input-field",value:s.item_code,onChange:e=>i({...s,item_code:e.target.value}),placeholder:"KPR-01",required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Nama Barang"),(0,l.createElement)("input",{className:"input-field",value:s.item_name,onChange:e=>i({...s,item_name:e.target.value}),placeholder:"Koper 24 Inch",required:!0}))),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Stok Awal"),(0,l.createElement)("input",{type:"number",className:"input-field",value:s.stock_qty,onChange:e=>i({...s,stock_qty:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Alert Minimum"),(0,l.createElement)("input",{type:"number",className:"input-field",value:s.min_stock_alert,onChange:e=>i({...s,min_stock_alert:e.target.value})}))),(0,l.createElement)("div",{className:"flex justify-end pt-4"},(0,l.createElement)("button",{className:"btn-primary"},"Simpan Stok")))))},Pt=()=>{const[e,a]=(0,l.useState)(""),[t,n]=(0,l.useState)(null),[r,s]=(0,l.useState)(!1),[i,o]=(0,l.useState)([]),[c,m]=(0,l.useState)(""),[d,u]=(0,l.useState)(1);(0,l.useEffect)(()=>{Qe.get("umh/v1/logistics/items").then(e=>o(e.data||[])).catch(console.error)},[]);const p=async()=>{if(e){s(!0);try{const a=await Qe.get("umh/v1/jamaah",{params:{search:e}}),t=a.data&&a.data.length>0?a.data[0]:null;t?(n(t),dt.success("Jemaah ditemukan")):(dt.error("Jemaah tidak ditemukan"),n(null))}catch(e){dt.error("Error searching")}finally{s(!1)}}};return(0,l.createElement)("div",{className:"p-6 max-w-2xl mx-auto"},(0,l.createElement)("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100 mb-6 shadow-sm"},(0,l.createElement)("h3",{className:"text-lg font-bold text-blue-800 mb-4 flex items-center gap-2"},(0,l.createElement)(qe,{size:20})," Input Pengambilan Perlengkapan"),(0,l.createElement)("div",{className:"mb-6"},(0,l.createElement)("label",{className:"label"},"Cari Jemaah (Scan Barcode/Ketik NIK)"),(0,l.createElement)("div",{className:"flex gap-2"},(0,l.createElement)("input",{className:"input-field",placeholder:"Ketik Nama / NIK / No Paspor...",value:e,onChange:e=>a(e.target.value),onKeyDown:e=>"Enter"===e.key&&p()}),(0,l.createElement)("button",{onClick:p,className:"btn-secondary",disabled:r},r?"...":(0,l.createElement)(wt,{size:18})))),t&&(0,l.createElement)("div",{className:"bg-white p-4 rounded-lg border border-blue-200 mb-6 animate-fade-in shadow-sm flex items-start gap-4"},(0,l.createElement)("div",{className:"p-3 bg-blue-100 text-blue-700 rounded-full"},(0,l.createElement)(Nt,{size:24})),(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"font-bold text-gray-800 text-lg"},t.full_name),(0,l.createElement)("div",{className:"text-sm text-gray-500 font-mono"},"NIK: ",t.nik||"-"),(0,l.createElement)("div",{className:"text-sm text-gray-500"},t.city||"Kota tidak diketahui")),(0,l.createElement)("div",{className:"ml-auto"},(0,l.createElement)("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full font-bold flex items-center gap-1"},(0,l.createElement)(_t,{size:12})," Terverifikasi"))),(0,l.createElement)("div",{className:"transition-opacity "+(t?"opacity-100":"opacity-50 pointer-events-none")},(0,l.createElement)("div",{className:"grid grid-cols-3 gap-4"},(0,l.createElement)("div",{className:"col-span-2"},(0,l.createElement)("label",{className:"label"},"Barang yang diambil"),(0,l.createElement)("select",{className:"input-field",value:c,onChange:e=>m(e.target.value)},(0,l.createElement)("option",{value:""},"-- Pilih Barang --"),i.map(e=>(0,l.createElement)("option",{key:e.id,value:e.id,disabled:parseInt(e.stock_qty)<=0},e.item_name," (Sisa: ",e.stock_qty,") ",parseInt(e.stock_qty)<=0?"(Habis)":"")))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Jumlah"),(0,l.createElement)("input",{type:"number",className:"input-field",value:d,onChange:e=>u(e.target.value),min:"1"}))),(0,l.createElement)("button",{onClick:async()=>{if(!t||!c)return dt.error("Data belum lengkap");try{await Qe.post("umh/v1/logistics/distribution",{booking_passenger_id:t.id,item_id:c,qty:d,status:"taken"}),dt.success("Barang berhasil diserahkan!"),m(""),u(1)}catch(e){dt.error("Gagal distribusi: "+(e.message||"Stok mungkin habis"))}},disabled:!t||!c,className:"btn-primary w-full mt-6 py-3 font-bold flex justify-center items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-blue-100"},(0,l.createElement)(qe,{size:18})," Konfirmasi Penyerahan"))))},Ct=()=>{const[e,a]=(0,l.useState)("inventory");return(0,l.createElement)(We,{title:"Logistik & Perlengkapan"},(0,l.createElement)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6 w-fit"},(0,l.createElement)("button",{onClick:()=>a("inventory"),className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition "+("inventory"===e?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700")},(0,l.createElement)(Et,{size:16})," Data Barang (Gudang)"),(0,l.createElement)("button",{onClick:()=>a("distribution"),className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition "+("distribution"===e?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700")},(0,l.createElement)(qe,{size:16})," Distribusi ke Jemaah")),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow border border-gray-200 p-1"},"inventory"===e?(0,l.createElement)(St,null):(0,l.createElement)(Pt,null)))},At=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Dt=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Tt=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Mt=()=>{const{data:e,loading:a,fetchData:t}=ut("umh/v1/marketing/leads"),[n,r]=(0,l.useState)(!1),[s,i]=(0,l.useState)({name:"",phone:"",email:"",source:"WA",status:"new"}),o=[{header:"Nama Prospek",accessor:"name",render:e=>(0,l.createElement)("div",{className:"font-bold text-gray-800"},e.name)},{header:"Kontak",accessor:"phone",render:e=>(0,l.createElement)("div",{className:"text-sm"},(0,l.createElement)("div",{className:"flex items-center gap-1 text-gray-700"},(0,l.createElement)(Dt,{size:12})," ",e.phone),e.email&&(0,l.createElement)("div",{className:"flex items-center gap-1 text-gray-500"},(0,l.createElement)(Tt,{size:12})," ",e.email))},{header:"Sumber",accessor:"source",render:e=>(0,l.createElement)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-600"},e.source)},{header:"Status",accessor:"status",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs font-bold uppercase "+("new"===e.status?"bg-blue-100 text-blue-700":"deal"===e.status?"bg-green-100 text-green-700":"hot"===e.status?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600")},e.status)},{header:"Tgl Masuk",accessor:"created_at",render:e=>ea(e.created_at)}];return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"p-4 flex justify-between items-center"},(0,l.createElement)("h3",{className:"font-bold text-gray-700"},"Daftar Calon Jemaah"),(0,l.createElement)("button",{onClick:()=>r(!0),className:"btn-primary flex items-center gap-2"},(0,l.createElement)(pt,{size:16})," Tambah Lead")),(0,l.createElement)(da,{columns:o,data:e,loading:a}),(0,l.createElement)(fa,{isOpen:n,onClose:()=>r(!1),title:"Input Data Prospek"},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{await Qe.post("umh/v1/marketing/leads",s),dt.success("Lead berhasil dicatat"),r(!1),t(),i({name:"",phone:"",email:"",source:"WA",status:"new"})}catch(e){dt.error("Gagal simpan")}},className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Nama Prospek"),(0,l.createElement)("input",{className:"input-field",value:s.name,onChange:e=>i({...s,name:e.target.value}),required:!0})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"No. WhatsApp"),(0,l.createElement)("input",{className:"input-field",value:s.phone,onChange:e=>i({...s,phone:e.target.value}),required:!0})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Email (Opsional)"),(0,l.createElement)("input",{type:"email",className:"input-field",value:s.email,onChange:e=>i({...s,email:e.target.value})}))),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Sumber Info"),(0,l.createElement)("select",{className:"input-field",value:s.source,onChange:e=>i({...s,source:e.target.value})},(0,l.createElement)("option",{value:"WA"},"WhatsApp"),(0,l.createElement)("option",{value:"IG"},"Instagram"),(0,l.createElement)("option",{value:"FB"},"Facebook Ads"),(0,l.createElement)("option",{value:"Walk-in"},"Datang Langsung"),(0,l.createElement)("option",{value:"Website"},"Website"),(0,l.createElement)("option",{value:"Referral"},"Referral Jemaah"))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Status Awal"),(0,l.createElement)("select",{className:"input-field",value:s.status,onChange:e=>i({...s,status:e.target.value})},(0,l.createElement)("option",{value:"new"},"New (Baru Masuk)"),(0,l.createElement)("option",{value:"contacted"},"Contacted (Dihubungi)"),(0,l.createElement)("option",{value:"hot"},"Hot (Potensial)"),(0,l.createElement)("option",{value:"deal"},"Deal (Closing)"),(0,l.createElement)("option",{value:"lost"},"Lost (Gagal)")))),(0,l.createElement)("div",{className:"flex justify-end pt-4"},(0,l.createElement)("button",{className:"btn-primary"},"Simpan Prospek")))))},Bt=()=>{const{data:e,loading:a,fetchData:t}=ut("umh/v1/marketing/campaigns"),[n,r]=(0,l.useState)(!1),[s,i]=(0,l.useState)({title:"",platform:"Facebook Ads",budget:0,start_date:"",end_date:""}),o=[{header:"Nama Kampanye",accessor:"title",render:e=>(0,l.createElement)("div",{className:"font-bold text-gray-800"},e.title)},{header:"Platform",accessor:"platform",render:e=>(0,l.createElement)("span",{className:"text-sm font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded"},e.platform)},{header:"Budget",accessor:"budget",render:e=>(0,l.createElement)("div",{className:"font-mono text-gray-700"},Ye(e.budget))},{header:"Durasi",accessor:"start_date",render:e=>(0,l.createElement)("div",{className:"text-xs text-gray-500 flex items-center gap-1"},(0,l.createElement)(De,{size:12})," ",ea(e.start_date)," - ",ea(e.end_date))},{header:"Status",accessor:"status",render:e=>(0,l.createElement)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded text-xs uppercase"},e.status)}];return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"p-4 flex justify-between items-center"},(0,l.createElement)("h3",{className:"font-bold text-gray-700"},"Manajemen Iklan"),(0,l.createElement)("button",{onClick:()=>r(!0),className:"btn-primary flex items-center gap-2"},(0,l.createElement)(pt,{size:16})," Buat Kampanye")),(0,l.createElement)(da,{columns:o,data:e,loading:a}),(0,l.createElement)(fa,{isOpen:n,onClose:()=>r(!1),title:"Buat Kampanye Iklan"},(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault();try{await Qe.post("umh/v1/marketing/campaigns",s),dt.success("Kampanye dibuat"),r(!1),t(),i({title:"",platform:"Facebook Ads",budget:0,start_date:"",end_date:""})}catch(e){dt.error("Gagal simpan")}},className:"space-y-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Judul Kampanye"),(0,l.createElement)("input",{className:"input-field",value:s.title,onChange:e=>i({...s,title:e.target.value}),placeholder:"Promo Awal Tahun 2025",required:!0})),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Platform"),(0,l.createElement)("select",{className:"input-field",value:s.platform,onChange:e=>i({...s,platform:e.target.value})},(0,l.createElement)("option",{value:"Facebook Ads"},"Facebook Ads"),(0,l.createElement)("option",{value:"Google Ads"},"Google Ads"),(0,l.createElement)("option",{value:"Instagram Ads"},"Instagram Ads"),(0,l.createElement)("option",{value:"TikTok Ads"},"TikTok Ads"),(0,l.createElement)("option",{value:"Offline"},"Offline / Banner"))),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Budget (IDR)"),(0,l.createElement)("input",{type:"number",className:"input-field",value:s.budget,onChange:e=>i({...s,budget:e.target.value})}))),(0,l.createElement)("div",{className:"grid grid-cols-2 gap-4"},(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Mulai"),(0,l.createElement)("input",{type:"date",className:"input-field",value:s.start_date,onChange:e=>i({...s,start_date:e.target.value})})),(0,l.createElement)("div",null,(0,l.createElement)("label",{className:"label"},"Selesai"),(0,l.createElement)("input",{type:"date",className:"input-field",value:s.end_date,onChange:e=>i({...s,end_date:e.target.value})}))),(0,l.createElement)("div",{className:"flex justify-end pt-4"},(0,l.createElement)("button",{className:"btn-primary"},"Simpan Kampanye")))))},Lt=()=>{const[e,a]=(0,l.useState)("leads");return(0,l.createElement)(We,{title:"Marketing & CRM"},(0,l.createElement)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6 w-fit"},(0,l.createElement)("button",{onClick:()=>a("leads"),className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition "+("leads"===e?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700")},(0,l.createElement)(At,{size:16})," Database Leads (Prospek)"),(0,l.createElement)("button",{onClick:()=>a("campaigns"),className:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition "+("campaigns"===e?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700")},(0,l.createElement)(Ue,{size:16})," Kampanye Iklan")),(0,l.createElement)("div",{className:"bg-white rounded-xl shadow border border-gray-200 p-1"},"leads"===e?(0,l.createElement)(Mt,null):(0,l.createElement)(Bt,null)))},Rt=({activeTab:e,setActiveTab:a})=>(0,l.createElement)("div",{className:"flex border-b border-gray-200 mb-6 overflow-x-auto"},["locations","airlines","hotels","banks"].map(t=>(0,l.createElement)("button",{key:t,className:"px-6 py-3 font-medium text-sm capitalize whitespace-nowrap focus:outline-none "+(e===t?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>a(t)},"banks"===t?"Rekening Bank":`Master ${t}`))),jt=()=>{const[e,a]=(0,l.useState)("locations"),t={locations:{title:"Data Lokasi (Kota/Bandara)",endpoint:"/masters?type=locations",createEndpoint:"/masters",columns:[{key:"name",label:"Nama Lokasi"},{key:"code",label:"Kode (IATA/City)"},{key:"type",label:"Tipe",render:e=>"airport"===e?"âœˆï¸ Bandara":"ðŸ™ï¸ Kota"},{key:"country",label:"Negara"}],formFields:[{name:"type_submit",label:"Hidden Type",type:"hidden",defaultValue:"locations"},{name:"name",label:"Nama Lokasi",type:"text",required:!0,width:"full"},{name:"code",label:"Kode (3 Huruf)",type:"text",width:"half"},{name:"type",label:"Tipe",type:"select",options:[{value:"city",label:"Kota"},{value:"airport",label:"Bandara"}],width:"half"},{name:"country",label:"Negara",type:"text",defaultValue:"Saudi Arabia",width:"full"}]},airlines:{title:"Data Maskapai Penerbangan",endpoint:"/masters?type=airlines",columns:[{key:"name",label:"Nama Maskapai"},{key:"code",label:"Kode"},{key:"origin",label:"Hub Asal"},{key:"type",label:"Jenis"}],formFields:[{name:"type_submit",label:"Hidden Type",type:"hidden",defaultValue:"airlines"},{name:"name",label:"Nama Maskapai",type:"text",required:!0,width:"full"},{name:"code",label:"Kode Maskapai",type:"text",width:"half"},{name:"type",label:"Jenis",type:"select",options:[{value:"International",label:"International"},{value:"Domestic",label:"Domestic"}],width:"half"},{name:"origin",label:"Hub Asal (Ex: CGK)",type:"text",width:"half"},{name:"logo_url",label:"URL Logo",type:"url",width:"full"}]},hotels:{title:"Data Hotel (Makkah & Madinah)",endpoint:"/masters?type=hotels",columns:[{key:"name",label:"Nama Hotel"},{key:"city",label:"Kota",render:e=>"Makkah"===e?"ðŸ•‹ Makkah":"ðŸ•Œ Madinah"},{key:"rating",label:"Bintang",render:e=>"â­".repeat(e)},{key:"distance_to_haram",label:"Jarak",render:e=>`${e} m`}],formFields:[{name:"type_submit",label:"Hidden Type",type:"hidden",defaultValue:"hotels"},{name:"name",label:"Nama Hotel",type:"text",required:!0,width:"full"},{name:"city",label:"Kota",type:"select",options:[{value:"Makkah",label:"Makkah"},{value:"Madinah",label:"Madinah"}],required:!0,width:"half"},{name:"rating",label:"Bintang",type:"select",options:["3","4","5"].map(e=>({value:e,label:`${e} Bintang`})),width:"half"},{name:"distance_to_haram",label:"Jarak ke Haram (meter)",type:"number",width:"half"},{name:"map_url",label:"Link Google Maps",type:"url",width:"full"}]},banks:{title:"Rekening Bank Perusahaan",endpoint:"/utils/banks",columns:[{key:"bank_name",label:"Bank"},{key:"account_number",label:"No. Rekening"},{key:"account_holder",label:"Atas Nama"},{key:"is_primary",label:"Utama",render:e=>1==e?"âœ…":"-"}],formFields:[{name:"bank_name",label:"Nama Bank",type:"text",required:!0,width:"half"},{name:"account_number",label:"No. Rekening",type:"text",required:!0,width:"half"},{name:"account_holder",label:"Atas Nama",type:"text",required:!0,width:"full"},{name:"is_primary",label:"Rekening Utama?",type:"select",options:[{value:"1",label:"Ya"},{value:"0",label:"Tidak"}],width:"full"}]}},n=t[e];return(0,l.createElement)("div",{className:"p-4"},(0,l.createElement)(Rt,{activeTab:e,setActiveTab:a}),(0,l.createElement)(da,{key:e,title:n.title,endpoint:n.endpoint,createEndpoint:n.createEndpoint||n.endpoint,columns:n.columns,formFields:n.formFields,searchPlaceholder:`Cari ${e}...`}))},It=({activeTab:e,setActiveTab:a})=>(0,l.createElement)("div",{className:"flex border-b border-gray-200 mb-6 overflow-x-auto"},[{id:"company",label:"Profil Perusahaan"},{id:"finance",label:"Konfigurasi Keuangan"},{id:"templates",label:"Template Notifikasi"},{id:"system",label:"System & API"}].map(t=>(0,l.createElement)("button",{key:t.id,className:"px-6 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap "+(e===t.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),onClick:()=>a(t.id)},t.label))),Kt=({fields:e,initialData:a,onSubmit:t})=>{const[n,r]=(0,l.useState)(a||{}),[s,i]=(0,l.useState)(!1),[o,c]=(0,l.useState)(null);(0,l.useEffect)(()=>{a&&r(a)},[a]);const m=e=>{const{name:a,value:t}=e.target;r(e=>({...e,[a]:t}))};return(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),c(null);try{await t(n),c({type:"success",text:"Pengaturan berhasil disimpan!"})}catch(e){c({type:"error",text:"Gagal menyimpan pengaturan."})}finally{i(!1)}},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 max-w-4xl"},o&&(0,l.createElement)("div",{className:"p-4 mb-6 rounded "+("success"===o.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700")},o.text),(0,l.createElement)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},e.map(e=>(0,l.createElement)("div",{key:e.name,className:e.fullWidth?"md:col-span-2":""},(0,l.createElement)("label",{className:"block text-sm font-medium text-gray-700 mb-1"},e.label),"textarea"===e.type?(0,l.createElement)("textarea",{name:e.name,value:n[e.name]||"",onChange:m,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"}):(0,l.createElement)("input",{type:e.type||"text",name:e.name,value:n[e.name]||"",onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"}),e.help&&(0,l.createElement)("p",{className:"text-xs text-gray-500 mt-1"},e.help)))),(0,l.createElement)("div",{className:"mt-6 flex justify-end"},(0,l.createElement)("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-300 transition-colors"},s?"Menyimpan...":"Simpan Perubahan")))},qt=()=>{const[e,a]=(0,l.useState)("company"),[t,n]=(0,l.useState)({});(0,l.useEffect)(()=>{n({company_name:"Berkah Travel Indonesia",company_address:"Jl. Sudirman No. 123, Jakarta",company_phone:"081234567890",company_email:"info@berkahtravel.com",currency:"IDR",tax_rate:"11",wa_api_key:"*************"})},[]);const r=async e=>{console.log("Saving settings:",e),await new Promise(e=>setTimeout(e,1e3)),n(e)};return(0,l.createElement)("div",{className:"p-4"},(0,l.createElement)("h1",{className:"text-2xl font-bold mb-6 text-gray-800"},"Pengaturan Sistem"),(0,l.createElement)(It,{activeTab:e,setActiveTab:a}),"company"===e&&(0,l.createElement)(Kt,{initialData:t,onSubmit:r,fields:[{name:"company_name",label:"Nama Perusahaan Travel",fullWidth:!0},{name:"company_phone",label:"No. Telepon Kantor"},{name:"company_email",label:"Email Resmi"},{name:"company_address",label:"Alamat Lengkap",type:"textarea",fullWidth:!0},{name:"company_logo",label:"URL Logo Perusahaan",fullWidth:!0,help:"Masukkan URL gambar logo (rekomendasi: PNG transparan)"},{name:"license_number",label:"Nomor Izin PPIU/PIHK",fullWidth:!0}]}),"finance"===e&&(0,l.createElement)(Kt,{initialData:t,onSubmit:r,fields:[{name:"currency",label:"Mata Uang Default",help:"Contoh: IDR, USD"},{name:"tax_rate",label:"Persentase Pajak (%)",type:"number"},{name:"invoice_footer",label:"Catatan Kaki Invoice",type:"textarea",fullWidth:!0,help:"Teks ini akan muncul di bagian bawah setiap invoice yang dicetak."}]}),"templates"===e&&(0,l.createElement)(da,{title:"Template Pesan Otomatis",endpoint:"/utils/templates",columns:[{key:"name",label:"Nama Template"},{key:"channel",label:"Channel",render:e=>"whatsapp"===e?"ðŸ“± WhatsApp":"âœ‰ï¸ Email"},{key:"slug",label:"Kode Slug"},{key:"updated_at",label:"Terakhir Update"}],formFields:[{name:"name",label:"Nama Template (Deskriptif)",type:"text",required:!0,width:"full"},{name:"slug",label:"Slug (Unik, huruf kecil)",type:"text",required:!0,width:"half",placeholder:"payment_success"},{name:"channel",label:"Saluran",type:"select",options:[{value:"whatsapp",label:"WhatsApp"},{value:"email",label:"Email"}],width:"half"},{name:"subject",label:"Subjek Email (Opsional)",type:"text",width:"full"},{name:"content",label:"Isi Pesan",type:"textarea",required:!0,width:"full",placeholder:"Halo {name}, pembayaran sebesar {amount} telah diterima..."},{name:"is_active",label:"Status",type:"select",options:[{value:"1",label:"Aktif"},{value:"0",label:"Nonaktif"}],width:"full"}],searchPlaceholder:"Cari template..."}),"system"===e&&(0,l.createElement)("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-100 text-center py-12"},(0,l.createElement)("div",{className:"max-w-md mx-auto"},(0,l.createElement)("h3",{className:"text-lg font-semibold text-gray-800 mb-2"},"Konfigurasi Lanjutan"),(0,l.createElement)("p",{className:"text-gray-500 mb-6"},"Pengaturan teknis seperti API Key WhatsApp Gateway, SMTP Email, dan Integrasi Payment Gateway dikelola melalui menu WordPress klasik untuk keamanan."),(0,l.createElement)("a",{href:"/wp-admin/admin.php?page=umroh-manager-settings",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"},"Buka Halaman Pengaturan WP"))))},Ut=()=>{const e=[{key:"id",label:"ID Rekening",render:e=>`#${e}`},{key:"jamaah_name",label:"Nama Jamaah"},{key:"target_amount",label:"Target",render:e=>Ye(e)},{key:"current_balance",label:"Saldo Terkini",render:e=>(0,l.createElement)("span",{className:"font-bold text-green-600"},Ye(e))},{key:"current_balance",label:"Progress",render:(e,a)=>{const t=Math.min(100,Math.round(e/a.target_amount*100));return(0,l.createElement)("div",{className:"w-full bg-gray-200 rounded-full h-2.5"},(0,l.createElement)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${t}%`}}),(0,l.createElement)("span",{className:"text-xs text-gray-500"},t,"%"))}},{key:"status",label:"Status",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 rounded-full text-xs "+("active"===e?"bg-green-100 text-green-800":"bg-gray-100")},e.toUpperCase())}];return(0,l.createElement)(da,{title:"Rekening Tabungan Umrah",endpoint:"/savings",columns:e,formFields:[{name:"user_id",label:"Pilih User/Jamaah (ID)",type:"number",required:!0,width:"full"},{name:"target_amount",label:"Target Dana (Rp)",type:"number",required:!0,width:"half"},{name:"tenure_years",label:"Tenor (Tahun)",type:"select",options:[{value:"1",label:"1 Tahun"},{value:"2",label:"2 Tahun"},{value:"3",label:"3 Tahun"}],required:!0,width:"half"},{name:"package_id",label:"ID Paket (Opsional)",type:"number",width:"full"}],searchPlaceholder:"Cari rekening..."})},$t=()=>{const[e,a]=(0,l.useState)({hotels_makkah:[],hotels_madinah:[],airlines:[],vehicle_types:["Bus","HiAce","GMC","Private Car"],meal_types:["Fullboard","Catering","Breakfast Only","None"]});(0,l.useEffect)(()=>{(async()=>{try{const e=await Ze.get("/private/options");e&&a(e)}catch(e){console.error("Gagal mengambil opsi master:",e)}})()},[]);const t=[{key:"contact_name",label:"Nama Kontak"},{key:"pax_count",label:"Jumlah Pax"},{key:"travel_date_start",label:"Rencana Tgl"},{key:"duration_days",label:"Durasi (Hari)"},{key:"vehicle_type",label:"Kendaraan"},{key:"status",label:"Status",render:e=>(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs ${{new:"bg-blue-100 text-blue-800",quoted:"bg-yellow-100 text-yellow-800",accepted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"}[e]||"bg-gray-100"}`},e.toUpperCase())}],n=[{section:"Informasi Kontak"},{name:"contact_name",label:"Nama Kontak",type:"text",required:!0,width:"half"},{name:"contact_phone",label:"No. WhatsApp",type:"tel",required:!0,width:"half"},{section:"Detail Perjalanan"},{name:"pax_count",label:"Jumlah Jamaah",type:"number",required:!0,width:"third"},{name:"travel_date_start",label:"Tgl Keberangkatan",type:"date",required:!0,width:"third"},{name:"duration_days",label:"Durasi (Hari)",type:"number",defaultValue:9,width:"third"},{section:"Preferensi Hotel & Maskapai (Klik Pilih)"},{name:"hotel_makkah_pref_id",label:"Pilih Hotel Makkah",type:"select",options:e.hotels_makkah.map(e=>({value:e.id,label:`${e.name} (${e.rating}â˜…)`})),width:"half"},{name:"hotel_madinah_pref_id",label:"Pilih Hotel Madinah",type:"select",options:e.hotels_madinah.map(e=>({value:e.id,label:`${e.name} (${e.rating}â˜…)`})),width:"half"},{name:"airline_pref_id",label:"Pilih Maskapai",type:"select",options:e.airlines.map(e=>({value:e.id,label:`${e.name} (${e.code})`})),width:"full"},{section:"Fasilitas Lainnya"},{name:"vehicle_type",label:"Jenis Kendaraan",type:"select",options:e.vehicle_types.map(e=>({value:e,label:e})),width:"half"},{name:"meal_type",label:"Jenis Makanan",type:"select",options:e.meal_types.map(e=>({value:e,label:e})),width:"half"},{name:"additional_notes",label:"Catatan Tambahan",type:"textarea",width:"full"}];return(0,l.createElement)(da,{title:"Request Private Umrah",endpoint:"/private/requests",createEndpoint:"/private/request",columns:t,formFields:n,searchPlaceholder:"Cari request..."})},Ht=()=>{const e=[{key:"name",label:"Nama Lengkap"},{key:"phone",label:"No. HP/WA"},{key:"base_location",label:"Lokasi Basis",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 rounded text-xs "+("Makkah"===e?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800")},e)},{key:"languages",label:"Bahasa"},{key:"specialization",label:"Spesialisasi"},{key:"rating",label:"Rating",render:e=>e?`â­ ${e}`:"-"},{key:"status",label:"Status",render:e=>(0,l.createElement)("span",{className:"px-2 py-1 rounded-full text-xs "+("active"===e?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},e.toUpperCase())}];return(0,l.createElement)(da,{title:"Manajemen Mutawwif",endpoint:"/mutawwif",columns:e,formFields:[{name:"name",label:"Nama Mutawwif",type:"text",required:!0,width:"full"},{name:"phone",label:"No. WhatsApp",type:"tel",required:!0,width:"half"},{name:"email",label:"Email",type:"email",width:"half"},{name:"base_location",label:"Lokasi Basis",type:"select",options:[{value:"Indonesia",label:"Indonesia"},{value:"Makkah",label:"Makkah"},{value:"Madinah",label:"Madinah"}],required:!0,width:"half"},{name:"experience_years",label:"Pengalaman (Tahun)",type:"number",width:"half"},{name:"languages",label:"Bahasa (Pisahkan koma)",type:"text",placeholder:"Indonesia, Arab, Inggris",width:"full"},{name:"specialization",label:"Spesialisasi",type:"text",placeholder:"Sejarah, Lansia, VVIP",width:"full"},{name:"license_number",label:"Nomor Sertifikat/Lisensi",type:"text",width:"full"},{name:"photo_url",label:"URL Foto Profil",type:"url",width:"full"},{name:"status",label:"Status",type:"select",options:[{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"},{value:"suspended",label:"Suspend"}],width:"full"}],searchPlaceholder:"Cari Mutawwif..."})},zt=()=>{const[e,a]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{try{const e=await Ze.get("/mutawwif?status=active");Array.isArray(e)&&a(e)}catch(e){console.error(e)}})()},[]);const t=[{key:"badal_for_name",label:"Badal Untuk (Nama)"},{key:"badal_reason",label:"Alasan",render:e=>"deceased"===e?"Almarhum/ah":"Sakit/Uzur"},{key:"mutawwif_name",label:"Pelaksana",render:e=>e||(0,l.createElement)("span",{className:"text-gray-400 italic"},"Belum ditentukan")},{key:"price",label:"Harga",render:e=>Ye(e)},{key:"status",label:"Status",render:e=>(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs ${{pending:"bg-yellow-100 text-yellow-800",paid:"bg-blue-100 text-blue-800",assigned:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",certificate_sent:"bg-teal-100 text-teal-800"}[e]||"bg-gray-100"}`},e.replace("_"," ").toUpperCase())}],n=[{section:"Info Badal"},{name:"badal_for_name",label:"Nama Yang Dibadalkan",type:"text",required:!0,width:"half"},{name:"badal_for_gender",label:"Jenis Kelamin",type:"select",options:[{value:"L",label:"Laki-laki"},{value:"P",label:"Perempuan"}],width:"quarter"},{name:"badal_reason",label:"Kondisi",type:"select",options:[{value:"deceased",label:"Meninggal"},{value:"sick",label:"Sakit Keras"},{value:"old_age",label:"Lansia Renta"}],width:"quarter"},{section:"Biaya & Pelaksanaan"},{name:"price",label:"Harga Paket (Rp)",type:"number",required:!0,width:"half"},{name:"assigned_mutawwif_id",label:"Tunjuk Pelaksana (Mutawwif)",type:"select",options:[{value:"",label:"- Pilih Nanti -"},...e.map(e=>({value:e.id,label:e.name}))],width:"half"},{section:"Status & Bukti"},{name:"status",label:"Status Proses",type:"select",options:[{value:"pending",label:"Pending (Belum Bayar)"},{value:"paid",label:"Paid (Sudah Bayar)"},{value:"assigned",label:"Assigned (Sedang Dilaksanakan)"},{value:"completed",label:"Completed (Selesai)"},{value:"certificate_sent",label:"Certificate Sent"}],width:"full"},{name:"video_proof_url",label:"Link Video Bukti",type:"url",width:"half"},{name:"certificate_url",label:"Link Sertifikat",type:"url",width:"half"}];return(0,l.createElement)(da,{title:"Layanan Badal Umrah",endpoint:"/badal",columns:t,formFields:n,searchPlaceholder:"Cari nama..."})},Ot=()=>{const e=[{key:"title",label:"Nama Kegiatan"},{key:"event_date",label:"Tanggal & Waktu",render:e=>(0,l.createElement)("span",{className:"font-semibold"},ea(e,!0))},{key:"location_name",label:"Lokasi"},{key:"ustadz_name",label:"Pemateri (Ustadz)"},{key:"id",label:"Aksi",render:e=>(0,l.createElement)("button",{className:"text-blue-600 text-xs hover:underline",onClick:()=>alert("Fitur Absensi QR akan dibuka di popup")},"Lihat Absensi")}];return(0,l.createElement)(da,{title:"Jadwal Manasik Umrah",endpoint:"/manasik",columns:e,formFields:[{name:"title",label:"Nama Kegiatan Manasik",type:"text",required:!0,width:"full"},{name:"event_date",label:"Tanggal & Jam",type:"datetime-local",required:!0,width:"half"},{name:"location_name",label:"Lokasi / Hotel",type:"text",width:"half"},{name:"ustadz_name",label:"Nama Pemateri",type:"text",width:"half"},{name:"location_map_url",label:"Link Google Maps",type:"url",width:"half"},{name:"notes",label:"Catatan / Perlengkapan",type:"textarea",width:"full"}],searchPlaceholder:"Cari jadwal..."})},Ft=()=>{const e=[{key:"subject",label:"Subjek"},{key:"category",label:"Kategori"},{key:"priority",label:"Prioritas",render:e=>(0,l.createElement)("span",{className:`px-2 py-1 rounded text-xs ${{Low:"bg-gray-100",Medium:"bg-blue-100 text-blue-800",High:"bg-orange-100 text-orange-800",Urgent:"bg-red-100 text-red-800"}[e]}`},e)},{key:"status",label:"Status",render:e=>(0,l.createElement)("span",{className:`text-xs ${{Open:"text-green-600 font-bold","In Progress":"text-blue-600",Resolved:"text-gray-500 line-through"}[e]}`},e)},{key:"created_at",label:"Dibuat",render:e=>ea(e)}];return(0,l.createElement)(da,{title:"Tiket Bantuan & Komplain",endpoint:"/support/tickets",columns:e,formFields:[{name:"subject",label:"Subjek Masalah",type:"text",disabled:!0,width:"full"},{name:"status",label:"Update Status",type:"select",options:[{value:"Open",label:"Open"},{value:"In Progress",label:"Sedang Diproses"},{value:"Resolved",label:"Selesai"},{value:"Closed",label:"Tutup"}],width:"full"}],searchPlaceholder:"Cari tiket..."})},Jt=()=>(0,l.createElement)(Ge,null,(0,l.createElement)(ve,null,(0,l.createElement)(We,null,(0,l.createElement)(de,null,(0,l.createElement)(ce,{path:"/",element:(0,l.createElement)(na,null)}),(0,l.createElement)(ce,{path:"/packages",element:(0,l.createElement)(ua,null)}),(0,l.createElement)(ce,{path:"/departures",element:(0,l.createElement)(pa,null)}),(0,l.createElement)(ce,{path:"/private-umrah",element:(0,l.createElement)($t,null)}),(0,l.createElement)(ce,{path:"/badal",element:(0,l.createElement)(zt,null)})," ",(0,l.createElement)(ce,{path:"/bookings",element:(0,l.createElement)(ha,null)}),(0,l.createElement)(ce,{path:"/savings",element:(0,l.createElement)(Ut,null)}),(0,l.createElement)(ce,{path:"/finance",element:(0,l.createElement)(ga,null)}),(0,l.createElement)(ce,{path:"/jamaah",element:(0,l.createElement)(ba,null)}),(0,l.createElement)(ce,{path:"/mutawwif",element:(0,l.createElement)(Ht,null)}),(0,l.createElement)(ce,{path:"/manasik",element:(0,l.createElement)(Ot,null)})," ",(0,l.createElement)(ce,{path:"/logistics",element:(0,l.createElement)(Ct,null)}),(0,l.createElement)(ce,{path:"/marketing",element:(0,l.createElement)(Lt,null)}),(0,l.createElement)(ce,{path:"/agents",element:(0,l.createElement)(ht,null)}),(0,l.createElement)(ce,{path:"/hr",element:(0,l.createElement)(xt,null)}),(0,l.createElement)(ce,{path:"/support",element:(0,l.createElement)(Ft,null)})," ",(0,l.createElement)(ce,{path:"/masters",element:(0,l.createElement)(jt,null)}),(0,l.createElement)(ce,{path:"/settings",element:(0,l.createElement)(qt,null)}))))),Wt=document.getElementById("umroh-manager-root");Wt&&(0,r.H)(Wt).render((0,l.createElement)(Jt,null))})();